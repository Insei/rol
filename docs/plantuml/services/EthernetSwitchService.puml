@startuml
!include GenericService.puml
!include ../repositories/EthernetSwitchRepository.puml
!include ../repositories/EthernetSwitchPortRepository.puml
!include ../dto/EthernetSwitch/EthernetSwitchCreateDto.puml
!include ../dto/EthernetSwitch/EthernetSwitchUpdateDto.puml
!include ../dto/EthernetSwitch/EthernetSwitchDto.puml

package app {
    class EthernetSwitchService {
        -repository IGenericRepository<EthernetSwitch>
        --
        -switchPortRepository interfaces.IGenericRepository[domain.EthernetSwitchPort]
        --
        +GetSupportedModels()
    }
    note left of EthernetSwitchService::switchPortRepository
    Used to remove ports when removing a switch
    end note

    note left of EthernetSwitchService::GetSupportedModels
    Get ethernet switch models that supported by system
    end note

    note right of EthernetSwitchService
        Advanced business logic for EthernetSwitch entity:
        DTO Validation
        Checking the uniqueness of serial numbers
        Checking the uniqueness of addresses
    end note

    EthernetSwitchRepository -right- EthernetSwitchService::repository
    EthernetSwitchPortRepository -right- EthernetSwitchService::switchPortRepository
    GenericService *-up- EthernetSwitchService

    EthernetSwitchService .[hidden]up. IGenericRepository
    EthernetSwitchPortRepository .[hidden]down. EthernetSwitchRepository

    note as EthernetSwitchServiceTypes
    EntityType is EthernetSwitch
    CreateDtoType is EthernetSwitchCreateDto
    UpdateDtoType is EthernetSwitchUpdateDto
    DtoType is EthernetSwitchDto
    end note

    EthernetSwitchService .down. EthernetSwitchServiceTypes
    GenericService <.up. EthernetSwitchServiceTypes

    EthernetSwitchServiceTypes .. EthernetSwitchCreateDto
    EthernetSwitchServiceTypes .. EthernetSwitchUpdateDto
    EthernetSwitchServiceTypes .. EthernetSwitchDto

}
@enduml
