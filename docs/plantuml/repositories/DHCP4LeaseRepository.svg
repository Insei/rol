<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="868px" preserveAspectRatio="none" style="width:1512px;height:868px;background:#FFFFFF;" version="1.1" viewBox="0 0 1512 868" width="1512px" zoomAndPan="magnify"><defs/><g><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><g id="cluster_app"><path d="M8.5,518 L35.5,518 A3.75,3.75 0 0 1 38,520.5 L45,541.6094 L1502.5,541.6094 A2.5,2.5 0 0 1 1505,544.1094 L1505,858.5 A2.5,2.5 0 0 1 1502.5,861 L8.5,861 A2.5,2.5 0 0 1 6,858.5 L6,520.5 A2.5,2.5 0 0 1 8.5,518 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="6" x2="45" y1="541.6094" y2="541.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="10" y="534.5332">app</text></g><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><g id="cluster_domain"><path d="M263.5,6 L315.5,6 A3.75,3.75 0 0 1 318,8.5 L325,29.6094 L574.5,29.6094 A2.5,2.5 0 0 1 577,32.1094 L577,383.5 A2.5,2.5 0 0 1 574.5,386 L263.5,386 A2.5,2.5 0 0 1 261,383.5 L261,8.5 A2.5,2.5 0 0 1 263.5,6 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="261" x2="325" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="265" y="22.5332">domain</text></g><!--MD5=[77349be1bd27b81b697a0f9b3aded3c8]
cluster infrastructure--><g id="cluster_infrastructure"><path d="M748.5,49 L846.5,49 A3.75,3.75 0 0 1 849,51.5 L856,72.6094 L1021.5,72.6094 A2.5,2.5 0 0 1 1024,75.1094 L1024,491.5 A2.5,2.5 0 0 1 1021.5,494 L748.5,494 A2.5,2.5 0 0 1 746,491.5 L746,51.5 A2.5,2.5 0 0 1 748.5,49 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="746" x2="856" y1="72.6094" y2="72.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="750" y="65.5332">infrastructure</text></g><!--MD5=[2a39a5be1cc24ddddd6e6286e4ece992]
class IEntityModel--><g id="elem_IEntityModel"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="22" y="666.5"/><ellipse cx="49.6" cy="682.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M50.5531,679.1406 L50.5531,685.7969 L52.2719,685.7969 Q52.8813,685.7969 53.1469,686.0313 Q53.4125,686.2656 53.4125,686.6563 Q53.4125,687.0313 53.1469,687.2656 Q52.8813,687.5 52.2719,687.5 L47.1313,687.5 Q46.5219,687.5 46.2563,687.2656 Q45.9906,687.0313 45.9906,686.6406 Q45.9906,686.2656 46.2563,686.0313 Q46.5219,685.7969 47.1313,685.7969 L48.85,685.7969 L48.85,679.1406 L47.1313,679.1406 Q46.5219,679.1406 46.2563,678.9063 Q45.9906,678.6719 45.9906,678.2813 Q45.9906,677.9063 46.2563,677.6719 Q46.5219,677.4375 47.1313,677.4375 L52.2719,677.4375 Q52.8813,677.4375 53.1469,677.6719 Q53.4125,677.9063 53.4125,678.2813 Q53.4125,678.6719 53.1469,678.9063 Q52.8813,679.1406 52.2719,679.1406 L50.5531,679.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="66.4" y="688.2285">IEntityModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="159" y1="698.5" y2="698.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="159" y1="706.5" y2="706.5"/><ellipse cx="33" cy="717.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="42" y="725.0332">GetID() uuid.UUID</text></g><!--MD5=[b3e0f8dcddb1b27f071a0303a68762bf]
class IGenericRepository--><g id="elem_IGenericRepository"><rect codeLine="3" fill="#F1F1F1" height="236.875" id="IGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="915" x="573.5" y="581"/><ellipse cx="935.25" cy="597" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M936.2031,593.6406 L936.2031,600.2969 L937.9219,600.2969 Q938.5313,600.2969 938.7969,600.5313 Q939.0625,600.7656 939.0625,601.1563 Q939.0625,601.5313 938.7969,601.7656 Q938.5313,602 937.9219,602 L932.7813,602 Q932.1719,602 931.9063,601.7656 Q931.6406,601.5313 931.6406,601.1406 Q931.6406,600.7656 931.9063,600.5313 Q932.1719,600.2969 932.7813,600.2969 L934.5,600.2969 L934.5,593.6406 L932.7813,593.6406 Q932.1719,593.6406 931.9063,593.4063 Q931.6406,593.1719 931.6406,592.7813 Q931.6406,592.4063 931.9063,592.1719 Q932.1719,591.9375 932.7813,591.9375 L937.9219,591.9375 Q938.5313,591.9375 938.7969,592.1719 Q939.0625,592.4063 939.0625,592.7813 Q939.0625,593.1719 938.7969,593.4063 Q938.5313,593.6406 937.9219,593.6406 L936.2031,593.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="122" x="955.75" y="602.7285">IGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="1432.5" y="578"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="1433.5" y="591.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="574.5" x2="1487.5" y1="613" y2="613"/><ellipse cx="584.5" cy="624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="889" x="593.5" y="631.5332">GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) ([]EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="638.6094" y2="638.6094"/><ellipse cx="584.5" cy="649.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="494" x="593.5" y="657.1426">Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="664.2188" y2="664.2188"/><ellipse cx="584.5" cy="675.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="393" x="593.5" y="682.752">NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="689.8281" y2="689.8281"/><ellipse cx="584.5" cy="700.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="383" x="593.5" y="708.3613">GetById(ctx context.Context, id uuid.UUID) (EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="715.4375" y2="715.4375"/><ellipse cx="584.5" cy="726.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="406" x="593.5" y="733.9707">Update(ctx context.Context, entity EntityType) (EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="741.0469" y2="741.0469"/><ellipse cx="584.5" cy="752.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="396" x="593.5" y="759.5801">Insert(ctx context.Context, entity EntityType) (EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="766.6563" y2="766.6563"/><ellipse cx="584.5" cy="777.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="593.5" y="785.1895">Delete(ctx context.Context, id uuid.UUID) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="1487.5" y1="792.2656" y2="792.2656"/><ellipse cx="584.5" cy="803.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="593.5" y="810.7988">CloseDb() error</text></g><path d="M195.5,554 L195.5,580.3516 A0,0 0 0 0 195.5,580.3516 L489.5,580.3516 A0,0 0 0 0 489.5,580.3516 L489.5,572 L577.5,625.8047 L489.5,564 L489.5,564 L479.5,554 L195.5,554 A0,0 0 0 0 195.5,554 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M479.5,554 L479.5,564 L489.5,564 L479.5,554 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="201.5" y="572.4951">Get list of elements with filtering and pagination</text><path d="M195.5,590.3516 L195.5,616.7031 A0,0 0 0 0 195.5,616.7031 L405.5,616.7031 A0,0 0 0 0 405.5,616.7031 L405.5,608.3516 L577.5,651.4141 L405.5,600.3516 L405.5,600.3516 L395.5,590.3516 L195.5,590.3516 A0,0 0 0 0 195.5,590.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M395.5,590.3516 L395.5,600.3516 L405.5,600.3516 L395.5,590.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="201.5" y="608.8467">Get count of entities with filtering</text><path d="M195.5,626.7031 L195.5,653.0547 A0,0 0 0 0 195.5,653.0547 L431.5,653.0547 A0,0 0 0 0 431.5,653.0547 L431.5,644.7031 L577.5,677.0234 L431.5,636.7031 L431.5,636.7031 L421.5,626.7031 L195.5,626.7031 A0,0 0 0 0 195.5,626.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M421.5,626.7031 L421.5,636.7031 L431.5,636.7031 L421.5,626.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="201.5" y="645.1982">Get new instance of the query builder</text><path d="M195.5,663.0547 L195.5,689.4063 A0,0 0 0 0 195.5,689.4063 L397.5,689.4063 A0,0 0 0 0 397.5,689.4063 L397.5,681.0547 L577.5,702.6328 L397.5,673.0547 L397.5,673.0547 L387.5,663.0547 L195.5,663.0547 A0,0 0 0 0 195.5,663.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M387.5,663.0547 L387.5,673.0547 L397.5,673.0547 L387.5,663.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="201.5" y="681.5498">Get entity by ID from repository</text><path d="M195.5,699.4063 L195.5,725.7578 A0,0 0 0 0 195.5,725.7578 L538.5,725.7578 A0,0 0 0 0 538.5,725.7578 L538.5,717.4063 L577.5,728.2422 L538.5,709.4063 L538.5,709.4063 L528.5,699.4063 L195.5,699.4063 A0,0 0 0 0 195.5,699.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M528.5,699.4063 L528.5,709.4063 L538.5,709.4063 L528.5,699.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="201.5" y="717.9014">Save the changes to the existing entity in the repository</text><path d="M195.5,735.7578 L195.5,762.1094 A0,0 0 0 0 195.5,762.1094 L373.5,762.1094 A0,0 0 0 0 373.5,762.1094 L373.5,753.7578 L577.5,753.8516 L373.5,745.7578 L373.5,745.7578 L363.5,735.7578 L195.5,735.7578 A0,0 0 0 0 195.5,735.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M363.5,735.7578 L363.5,745.7578 L373.5,745.7578 L363.5,735.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="201.5" y="754.2529">Add entity to the repository</text><path d="M195.5,772.1094 L195.5,798.4609 A0,0 0 0 0 195.5,798.4609 L397.5,798.4609 A0,0 0 0 0 397.5,798.4609 L397.5,790.1094 L577.5,779.4609 L397.5,782.1094 L397.5,782.1094 L387.5,772.1094 L195.5,772.1094 A0,0 0 0 0 195.5,772.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M387.5,772.1094 L387.5,782.1094 L397.5,782.1094 L387.5,772.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="201.5" y="790.6045">Delete entity from the database</text><path d="M195.5,808.4609 L195.5,834.8125 A0,0 0 0 0 195.5,834.8125 L424.5,834.8125 A0,0 0 0 0 424.5,834.8125 L424.5,826.4609 L577.5,805.0703 L424.5,818.4609 L424.5,818.4609 L414.5,808.4609 L195.5,808.4609 A0,0 0 0 0 195.5,808.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M414.5,808.4609 L414.5,818.4609 L424.5,818.4609 L414.5,808.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="201.5" y="826.9561">Closes current database connection</text><!--MD5=[be996cdb8e6bf2fc7cb89c555f2cd144]
class Entity--><g id="elem_Entity"><rect codeLine="5" fill="#F1F1F1" height="134.4375" id="Entity" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="283" x="277.5" y="236"/><ellipse cx="397.25" cy="252" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M400.0156,247.875 Q400.1719,247.6563 400.3594,247.5469 Q400.5469,247.4375 400.7656,247.4375 Q401.1406,247.4375 401.375,247.7031 Q401.6094,247.9531 401.6094,248.5625 L401.6094,250.0156 Q401.6094,250.625 401.375,250.8906 Q401.1406,251.1563 400.7656,251.1563 Q400.4219,251.1563 400.2188,250.9531 Q400.0156,250.7656 399.9063,250.25 Q399.8594,249.8906 399.6719,249.7031 Q399.3438,249.3281 398.7344,249.1094 Q398.125,248.8906 397.5,248.8906 Q396.7344,248.8906 396.0938,249.2188 Q395.4688,249.5469 394.9688,250.2969 Q394.4844,251.0469 394.4844,252.0781 L394.4844,253.1719 Q394.4844,254.4063 395.375,255.2344 Q396.2656,256.0469 397.8594,256.0469 Q398.7969,256.0469 399.4531,255.7969 Q399.8438,255.6406 400.2656,255.2031 Q400.5313,254.9375 400.6719,254.8594 Q400.8281,254.7813 401.0313,254.7813 Q401.3594,254.7813 401.6094,255.0469 Q401.875,255.2969 401.875,255.6406 Q401.875,255.9844 401.5313,256.3906 Q401.0313,256.9688 400.2344,257.2969 Q399.1563,257.75 397.8594,257.75 Q396.3438,257.75 395.1406,257.125 Q394.1563,256.625 393.4688,255.5625 Q392.7813,254.4844 392.7813,253.2031 L392.7813,252.0469 Q392.7813,250.7188 393.3906,249.5781 Q394.0156,248.4219 395.1094,247.8125 Q396.2031,247.1875 397.4375,247.1875 Q398.1719,247.1875 398.8125,247.3594 Q399.4688,247.5156 400.0156,247.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="417.75" y="257.7285">Entity</text><line style="stroke:#181818;stroke-width:0.5;" x1="278.5" x2="559.5" y1="268" y2="268"/><ellipse cx="288.5" cy="279" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="297.5" y="286.5332">ID uuid.UUID `gorm:"primarykey"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="278.5" x2="559.5" y1="293.6094" y2="293.6094"/><ellipse cx="288.5" cy="304.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="297.5" y="312.1426">CreatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="278.5" x2="559.5" y1="319.2188" y2="319.2188"/><ellipse cx="288.5" cy="330.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="297.5" y="337.752">UpdatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="278.5" x2="559.5" y1="344.8281" y2="344.8281"/><ellipse cx="288.5" cy="355.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="297.5" y="363.3613">DeletedAt gorm.DeletedAt `gorm:"index"`</text></g><!--MD5=[f0474206043373679905908f8f9685bc]
class DHCP4Lease--><g id="elem_DHCP4Lease"><rect codeLine="4" fill="#F1F1F1" height="134.4375" id="DHCP4Lease" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192" x="346" y="42"/><ellipse cx="395.25" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M398.0156,53.875 Q398.1719,53.6563 398.3594,53.5469 Q398.5469,53.4375 398.7656,53.4375 Q399.1406,53.4375 399.375,53.7031 Q399.6094,53.9531 399.6094,54.5625 L399.6094,56.0156 Q399.6094,56.625 399.375,56.8906 Q399.1406,57.1563 398.7656,57.1563 Q398.4219,57.1563 398.2188,56.9531 Q398.0156,56.7656 397.9063,56.25 Q397.8594,55.8906 397.6719,55.7031 Q397.3438,55.3281 396.7344,55.1094 Q396.125,54.8906 395.5,54.8906 Q394.7344,54.8906 394.0938,55.2188 Q393.4688,55.5469 392.9688,56.2969 Q392.4844,57.0469 392.4844,58.0781 L392.4844,59.1719 Q392.4844,60.4063 393.375,61.2344 Q394.2656,62.0469 395.8594,62.0469 Q396.7969,62.0469 397.4531,61.7969 Q397.8438,61.6406 398.2656,61.2031 Q398.5313,60.9375 398.6719,60.8594 Q398.8281,60.7813 399.0313,60.7813 Q399.3594,60.7813 399.6094,61.0469 Q399.875,61.2969 399.875,61.6406 Q399.875,61.9844 399.5313,62.3906 Q399.0313,62.9688 398.2344,63.2969 Q397.1563,63.75 395.8594,63.75 Q394.3438,63.75 393.1406,63.125 Q392.1563,62.625 391.4688,61.5625 Q390.7813,60.4844 390.7813,59.2031 L390.7813,58.0469 Q390.7813,56.7188 391.3906,55.5781 Q392.0156,54.4219 393.1094,53.8125 Q394.2031,53.1875 395.4375,53.1875 Q396.1719,53.1875 396.8125,53.3594 Q397.4688,53.5156 398.0156,53.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="415.75" y="63.7285">DHCP4Lease</text><line style="stroke:#181818;stroke-width:0.5;" x1="347" x2="537" y1="74" y2="74"/><ellipse cx="357" cy="85" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="366" y="92.5332">ID uuid.UUID</text><line style="stroke:#181818;stroke-width:1.0;" x1="347" x2="537" y1="99.6094" y2="99.6094"/><ellipse cx="357" cy="110.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="366" y="118.1426">DHCP4ConfigID uuid.UUID</text><line style="stroke:#181818;stroke-width:1.0;" x1="347" x2="537" y1="125.2188" y2="125.2188"/><ellipse cx="357" cy="136.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="366" y="143.752">IP string</text><line style="stroke:#181818;stroke-width:1.0;" x1="347" x2="537" y1="150.8281" y2="150.8281"/><ellipse cx="357" cy="161.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="366" y="169.3613">MAC string</text></g><!--MD5=[27abfb56f32eefa7f07c83348fb1ee32]
class GormGenericRepository--><g id="elem_GormGenericRepository"><rect codeLine="5" fill="#F1F1F1" height="48" id="GormGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="762" y="430"/><ellipse cx="777" cy="446" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M779.7656,441.875 Q779.9219,441.6563 780.1094,441.5469 Q780.2969,441.4375 780.5156,441.4375 Q780.8906,441.4375 781.125,441.7031 Q781.3594,441.9531 781.3594,442.5625 L781.3594,444.0156 Q781.3594,444.625 781.125,444.8906 Q780.8906,445.1563 780.5156,445.1563 Q780.1719,445.1563 779.9688,444.9531 Q779.7656,444.7656 779.6563,444.25 Q779.6094,443.8906 779.4219,443.7031 Q779.0938,443.3281 778.4844,443.1094 Q777.875,442.8906 777.25,442.8906 Q776.4844,442.8906 775.8438,443.2188 Q775.2188,443.5469 774.7188,444.2969 Q774.2344,445.0469 774.2344,446.0781 L774.2344,447.1719 Q774.2344,448.4063 775.125,449.2344 Q776.0156,450.0469 777.6094,450.0469 Q778.5469,450.0469 779.2031,449.7969 Q779.5938,449.6406 780.0156,449.2031 Q780.2813,448.9375 780.4219,448.8594 Q780.5781,448.7813 780.7813,448.7813 Q781.1094,448.7813 781.3594,449.0469 Q781.625,449.2969 781.625,449.6406 Q781.625,449.9844 781.2813,450.3906 Q780.7813,450.9688 779.9844,451.2969 Q778.9063,451.75 777.6094,451.75 Q776.0938,451.75 774.8906,451.125 Q773.9063,450.625 773.2188,449.5625 Q772.5313,448.4844 772.5313,447.2031 L772.5313,446.0469 Q772.5313,444.7188 773.1406,443.5781 Q773.7656,442.4219 774.8594,441.8125 Q775.9531,441.1875 777.1875,441.1875 Q777.9219,441.1875 778.5625,441.3594 Q779.2188,441.5156 779.7656,441.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="791" y="451.7285">GormGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="952" y="427"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="953" y="440.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="763" x2="1007" y1="462" y2="462"/><line style="stroke:#181818;stroke-width:0.5;" x1="763" x2="1007" y1="470" y2="470"/></g><!--MD5=[0cbfc2deb107b13f52db89da1bac989a]
class DHCP4LeaseRepository--><g id="elem_DHCP4LeaseRepository"><rect codeLine="5" fill="#F1F1F1" height="48" id="DHCP4LeaseRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185" x="792.5" y="85"/><ellipse cx="807.5" cy="101" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M810.2656,96.875 Q810.4219,96.6563 810.6094,96.5469 Q810.7969,96.4375 811.0156,96.4375 Q811.3906,96.4375 811.625,96.7031 Q811.8594,96.9531 811.8594,97.5625 L811.8594,99.0156 Q811.8594,99.625 811.625,99.8906 Q811.3906,100.1563 811.0156,100.1563 Q810.6719,100.1563 810.4688,99.9531 Q810.2656,99.7656 810.1563,99.25 Q810.1094,98.8906 809.9219,98.7031 Q809.5938,98.3281 808.9844,98.1094 Q808.375,97.8906 807.75,97.8906 Q806.9844,97.8906 806.3438,98.2188 Q805.7188,98.5469 805.2188,99.2969 Q804.7344,100.0469 804.7344,101.0781 L804.7344,102.1719 Q804.7344,103.4063 805.625,104.2344 Q806.5156,105.0469 808.1094,105.0469 Q809.0469,105.0469 809.7031,104.7969 Q810.0938,104.6406 810.5156,104.2031 Q810.7813,103.9375 810.9219,103.8594 Q811.0781,103.7813 811.2813,103.7813 Q811.6094,103.7813 811.8594,104.0469 Q812.125,104.2969 812.125,104.6406 Q812.125,104.9844 811.7813,105.3906 Q811.2813,105.9688 810.4844,106.2969 Q809.4063,106.75 808.1094,106.75 Q806.5938,106.75 805.3906,106.125 Q804.4063,105.625 803.7188,104.5625 Q803.0313,103.4844 803.0313,102.2031 L803.0313,101.0469 Q803.0313,99.7188 803.6406,98.5781 Q804.2656,97.4219 805.3594,96.8125 Q806.4531,96.1875 807.6875,96.1875 Q808.4219,96.1875 809.0625,96.3594 Q809.7188,96.5156 810.2656,96.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="821.5" y="106.7285">DHCP4LeaseRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="793.5" x2="976.5" y1="117" y2="117"/><line style="stroke:#181818;stroke-width:0.5;" x1="793.5" x2="976.5" y1="125" y2="125"/></g><g id="elem_DHCP4LeaseTypeNote"><path d="M762.5,290 L762.5,316.3516 L941.5,316.3516 L941.5,300 L931.5,290 L762.5,290 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M931.5,290 L931.5,300 L941.5,300 L931.5,290 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="768.5" y="308.4951">EntityType is DHCP4Lease</text></g><!--MD5=[a6c7a0eda5b041e127f539f1664bb96a]
link Entity to IEntityModel--><g id="link_Entity_IEntityModel"><path codeLine="14" d="M323.64,370 C275.4,406.96 218.61,456.35 178,510 C146.25,551.94 122.42,607.33 107.81,647.2 " fill="none" id="Entity-to-IEntityModel" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="114.36,649.68,101.1,666.21,101.15,645.02,114.36,649.68" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d92dbc93b55ca7854669d0d397025348]
link DHCP4Lease to Entity--><g id="link_DHCP4Lease_Entity"><path codeLine="13" d="M434.08,176.08 C432.3,191.01 430.38,207.02 428.53,222.44 " fill="none" id="DHCP4Lease-to-Entity" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="426.93,235.8,431.6202,230.3226,428.3681,223.8865,423.6779,229.3639,426.93,235.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1b84833638557571905b03f54e842c8c]
link GormGenericRepository to IGenericRepository--><g id="link_GormGenericRepository_IGenericRepository"><path codeLine="7" d="M899,478.35 C911.31,498.87 930.3,530.55 950.07,563.53 " fill="none" id="GormGenericRepository-to-IGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="956.17,560.09,960.45,580.84,944.17,567.29,956.17,560.09" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3db3bde11458642c09def051ffe38ef2]
link DHCP4LeaseRepository to GormGenericRepository--><g id="link_DHCP4LeaseRepository_GormGenericRepository"><path codeLine="7" d="M903.92,133.34 C922.11,157.41 948.35,196.83 959,236 C977.43,303.76 989.47,330.73 959,394 C953.92,404.54 945.95,413.78 937.07,421.63 " fill="none" id="DHCP4LeaseRepository-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="926.78,429.9,933.9625,429.258,936.1324,422.3812,928.9499,423.0231,926.78,429.9" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a0452d32cf71fbb35d6fa743b697c5ad]
link DHCP4LeaseRepository to DHCP4LeaseTypeNote--><g id="link_DHCP4LeaseRepository_DHCP4LeaseTypeNote"><path codeLine="11" d="M881.02,133.16 C873.96,174.25 859.47,258.54 854.08,289.9 " fill="none" id="DHCP4LeaseRepository-DHCP4LeaseTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[7add970746c243e5d9117923b7b5e77b]
link DHCP4LeaseTypeNote to GormGenericRepository--><g id="link_DHCP4LeaseTypeNote_GormGenericRepository"><path codeLine="12" d="M854.7,316.19 C859.92,339.75 871.5,392.05 878.74,424.73 " fill="none" id="DHCP4LeaseTypeNote-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="879.86,429.8,881.8124,420.1466,878.7753,424.9191,874.0029,421.882,879.86,429.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d04ee9948be0dbd03ed47575f1fdf7fb]
link DHCP4Lease to DHCP4LeaseTypeNote--><g id="link_DHCP4Lease_DHCP4LeaseTypeNote"><path codeLine="13" d="M538.13,155.02 C632.33,199.13 769.74,263.48 826.26,289.95 " fill="none" id="DHCP4Lease-DHCP4LeaseTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[0e544e109df67c379b5d43b906e2c2e8]
@startuml
!include ../entities/DHCP4Lease.puml
!include GormGenericRepository.puml

package infrastructure {
    class DHCP4LeaseRepository

    DHCP4LeaseRepository -down-* GormGenericRepository

    note "EntityType is DHCP4Lease" as DHCP4LeaseTypeNote

    DHCP4LeaseRepository .down. DHCP4LeaseTypeNote
    GormGenericRepository <.up. DHCP4LeaseTypeNote
    DHCP4Lease .. DHCP4LeaseTypeNote
}

@enduml

@startuml


package app {
    interface IEntityModel {
        +GetID() uuid.UUID
    }
}


package domain {
    class Entity {
        +ID uuid.UUID `gorm:"primarykey"`
        - -
        +CreatedAt time.Time `gorm:"index"`
        - -
        +UpdatedAt time.Time `gorm:"index"`
        - -
        +DeletedAt gorm.DeletedAt `gorm:"index"`
    }
    Entity .down.|> IEntityModel
}


package domain {
    class DHCP4Lease {
        +ID uuid.UUID
        - -
        +DHCP4ConfigID uuid.UUID
        - -
        +IP string
        - -
        +MAC string
    }
    DHCP4Lease -down-* Entity
}



package app {
    interface IGenericRepository<EntityType> {
        +GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) ([]EntityType, error)
        - -
        +Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)
        - -
        +NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder
        - -
        +GetById(ctx context.Context, id uuid.UUID) (EntityType, error)
        - -
        +Update(ctx context.Context, entity EntityType) (EntityType, error)
        - -
        +Insert(ctx context.Context, entity EntityType) (EntityType, error)
        - -
        +Delete(ctx context.Context, id uuid.UUID) error
        - -
        +CloseDb() error
    }
    note left of IGenericRepository::GetList
      Get list of elements with filtering and pagination
    end note

    note left of IGenericRepository::Count
      Get count of entities with filtering
    end note

    note left of IGenericRepository::NewQueryBuilder
      Get new instance of the query builder
    end note

    note left of IGenericRepository::GetById
      Get entity by ID from repository
    end note

    note left of IGenericRepository::Update
      Save the changes to the existing entity in the repository
    end note

    note left of IGenericRepository::Insert
      Add entity to the repository
    end note

    note left of IGenericRepository::Delete
      Delete entity from the database
    end note

    note left of IGenericRepository::CloseDb
      Closes current database connection
    end note
}


package infrastructure {
    class GormGenericRepository<EntityType>

    GormGenericRepository .down.|> IGenericRepository
}


package infrastructure {
    class DHCP4LeaseRepository

    DHCP4LeaseRepository -down-* GormGenericRepository

    note "EntityType is DHCP4Lease" as DHCP4LeaseTypeNote

    DHCP4LeaseRepository .down. DHCP4LeaseTypeNote
    GormGenericRepository <.up. DHCP4LeaseTypeNote
    DHCP4Lease .. DHCP4LeaseTypeNote
}

@enduml

PlantUML version 1.2022.6(Tue Jun 21 20:34:49 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>