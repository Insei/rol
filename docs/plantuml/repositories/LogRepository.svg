<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="971px" preserveAspectRatio="none" style="width:1724px;height:971px;background:#FFFFFF;" version="1.1" viewBox="0 0 1724 971" width="1724px" zoomAndPan="magnify"><defs/><g><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><g id="cluster_app"><path d="M8.5,518 L35.5,518 A3.75,3.75 0 0 1 38,520.5 L45,541.6094 L1714.5,541.6094 A2.5,2.5 0 0 1 1717,544.1094 L1717,961.5 A2.5,2.5 0 0 1 1714.5,964 L8.5,964 A2.5,2.5 0 0 1 6,961.5 L6,520.5 A2.5,2.5 0 0 1 8.5,518 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="6" x2="45" y1="541.6094" y2="541.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="10" y="534.5332">app</text></g><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><g id="cluster_domain"><path d="M159.5,6 L211.5,6 A3.75,3.75 0 0 1 214,8.5 L221,29.6094 L436.5,29.6094 A2.5,2.5 0 0 1 439,32.1094 L439,383.5 A2.5,2.5 0 0 1 436.5,386 L159.5,386 A2.5,2.5 0 0 1 157,383.5 L157,8.5 A2.5,2.5 0 0 1 159.5,6 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="157" x2="221" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="161" y="22.5332">domain</text></g><!--MD5=[77349be1bd27b81b697a0f9b3aded3c8]
cluster infrastructure--><g id="cluster_infrastructure"><path d="M784.5,49 L882.5,49 A3.75,3.75 0 0 1 885,51.5 L892,72.6094 L1057.5,72.6094 A2.5,2.5 0 0 1 1060,75.1094 L1060,491.5 A2.5,2.5 0 0 1 1057.5,494 L784.5,494 A2.5,2.5 0 0 1 782,491.5 L782,51.5 A2.5,2.5 0 0 1 784.5,49 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="782" x2="892" y1="72.6094" y2="72.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="786" y="65.5332">infrastructure</text></g><!--MD5=[2a39a5be1cc24ddddd6e6286e4ece992]
class IEntityModel--><g id="elem_IEntityModel"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="229" y="666.5"/><ellipse cx="256.6" cy="682.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M257.5531,679.1406 L257.5531,685.7969 L259.2719,685.7969 Q259.8813,685.7969 260.1469,686.0313 Q260.4125,686.2656 260.4125,686.6563 Q260.4125,687.0313 260.1469,687.2656 Q259.8813,687.5 259.2719,687.5 L254.1313,687.5 Q253.5219,687.5 253.2563,687.2656 Q252.9906,687.0313 252.9906,686.6406 Q252.9906,686.2656 253.2563,686.0313 Q253.5219,685.7969 254.1313,685.7969 L255.85,685.7969 L255.85,679.1406 L254.1313,679.1406 Q253.5219,679.1406 253.2563,678.9063 Q252.9906,678.6719 252.9906,678.2813 Q252.9906,677.9063 253.2563,677.6719 Q253.5219,677.4375 254.1313,677.4375 L259.2719,677.4375 Q259.8813,677.4375 260.1469,677.6719 Q260.4125,677.9063 260.4125,678.2813 Q260.4125,678.6719 260.1469,678.9063 Q259.8813,679.1406 259.2719,679.1406 L257.5531,679.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="273.4" y="688.2285">IEntityModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="230" x2="366" y1="698.5" y2="698.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="230" x2="366" y1="706.5" y2="706.5"/><ellipse cx="240" cy="717.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="249" y="725.0332">GetID() uuid.UUID</text></g><!--MD5=[01906ac0e62f22b4e38e996248db568e]
class IEntityModelDeletedAt--><g id="elem_IEntityModelDeletedAt"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModelDeletedAt" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="22" y="666.5"/><ellipse cx="37" cy="682.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M37.9531,679.1406 L37.9531,685.7969 L39.6719,685.7969 Q40.2813,685.7969 40.5469,686.0313 Q40.8125,686.2656 40.8125,686.6563 Q40.8125,687.0313 40.5469,687.2656 Q40.2813,687.5 39.6719,687.5 L34.5313,687.5 Q33.9219,687.5 33.6563,687.2656 Q33.3906,687.0313 33.3906,686.6406 Q33.3906,686.2656 33.6563,686.0313 Q33.9219,685.7969 34.5313,685.7969 L36.25,685.7969 L36.25,679.1406 L34.5313,679.1406 Q33.9219,679.1406 33.6563,678.9063 Q33.3906,678.6719 33.3906,678.2813 Q33.3906,677.9063 33.6563,677.6719 Q33.9219,677.4375 34.5313,677.4375 L39.6719,677.4375 Q40.2813,677.4375 40.5469,677.6719 Q40.8125,677.9063 40.8125,678.2813 Q40.8125,678.6719 40.5469,678.9063 Q40.2813,679.1406 39.6719,679.1406 L37.9531,679.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140" x="51" y="688.2285">IEntityModelDeletedAt</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="193" y1="698.5" y2="698.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="193" y1="706.5" y2="706.5"/><ellipse cx="33" cy="717.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="42" y="725.0332">SetDeleted()</text></g><g id="elem_GMN452"><path d="M22.5,905 L22.5,947.7031 A0,0 0 0 0 22.5,947.7031 L341.5,947.7031 A0,0 0 0 0 341.5,947.7031 L341.5,915 L331.5,905 L179.17,905 L118.6,732.74 L171.17,905 L22.5,905 A0,0 0 0 0 22.5,905 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M331.5,905 L331.5,915 L341.5,915 L331.5,905 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="28.5" y="923.4951">Set deletion time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="28.5" y="939.8467">This method marks that the entity has been deleted</text></g><!--MD5=[b3e0f8dcddb1b27f071a0303a68762bf]
class IGenericRepository--><g id="elem_IGenericRepository"><rect codeLine="3" fill="#F1F1F1" height="236.875" id="IGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="920" x="781" y="581"/><ellipse cx="1145.25" cy="597" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1146.2031,593.6406 L1146.2031,600.2969 L1147.9219,600.2969 Q1148.5313,600.2969 1148.7969,600.5313 Q1149.0625,600.7656 1149.0625,601.1563 Q1149.0625,601.5313 1148.7969,601.7656 Q1148.5313,602 1147.9219,602 L1142.7813,602 Q1142.1719,602 1141.9063,601.7656 Q1141.6406,601.5313 1141.6406,601.1406 Q1141.6406,600.7656 1141.9063,600.5313 Q1142.1719,600.2969 1142.7813,600.2969 L1144.5,600.2969 L1144.5,593.6406 L1142.7813,593.6406 Q1142.1719,593.6406 1141.9063,593.4063 Q1141.6406,593.1719 1141.6406,592.7813 Q1141.6406,592.4063 1141.9063,592.1719 Q1142.1719,591.9375 1142.7813,591.9375 L1147.9219,591.9375 Q1148.5313,591.9375 1148.7969,592.1719 Q1149.0625,592.4063 1149.0625,592.7813 Q1149.0625,593.1719 1148.7969,593.4063 Q1148.5313,593.6406 1147.9219,593.6406 L1146.2031,593.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="122" x="1165.75" y="602.7285">IGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="1645" y="578"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="1646" y="591.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="782" x2="1700" y1="613" y2="613"/><ellipse cx="792" cy="624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="894" x="801" y="631.5332">GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) (*[]EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="638.6094" y2="638.6094"/><ellipse cx="792" cy="649.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="494" x="801" y="657.1426">Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="664.2188" y2="664.2188"/><ellipse cx="792" cy="675.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="393" x="801" y="682.752">NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="689.8281" y2="689.8281"/><ellipse cx="792" cy="700.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="388" x="801" y="708.3613">GetById(ctx context.Context, id uuid.UUID) (*EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="715.4375" y2="715.4375"/><ellipse cx="792" cy="726.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="801" y="733.9707">Update(ctx context.Context, entity *EntityType) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="741.0469" y2="741.0469"/><ellipse cx="792" cy="752.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="391" x="801" y="759.5801">Insert(ctx context.Context, entity EntityType) (uuid.UUID, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="766.6563" y2="766.6563"/><ellipse cx="792" cy="777.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="801" y="785.1895">Delete(ctx context.Context, id uuid.UUID) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="792.2656" y2="792.2656"/><ellipse cx="792" cy="803.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="801" y="810.7988">CloseDb() error</text></g><path d="M402.5,554 L402.5,580.3516 A0,0 0 0 0 402.5,580.3516 L696.5,580.3516 A0,0 0 0 0 696.5,580.3516 L696.5,572 L785,625.8047 L696.5,564 L696.5,564 L686.5,554 L402.5,554 A0,0 0 0 0 402.5,554 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M686.5,554 L686.5,564 L696.5,564 L686.5,554 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="408.5" y="572.4951">Get list of elements with filtering and pagination</text><path d="M402.5,590.3516 L402.5,616.7031 A0,0 0 0 0 402.5,616.7031 L612.5,616.7031 A0,0 0 0 0 612.5,616.7031 L612.5,608.3516 L785,651.4141 L612.5,600.3516 L612.5,600.3516 L602.5,590.3516 L402.5,590.3516 A0,0 0 0 0 402.5,590.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M602.5,590.3516 L602.5,600.3516 L612.5,600.3516 L602.5,590.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="408.5" y="608.8467">Get count of entities with filtering</text><path d="M402.5,626.7031 L402.5,653.0547 A0,0 0 0 0 402.5,653.0547 L638.5,653.0547 A0,0 0 0 0 638.5,653.0547 L638.5,644.7031 L785,677.0234 L638.5,636.7031 L638.5,636.7031 L628.5,626.7031 L402.5,626.7031 A0,0 0 0 0 402.5,626.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M628.5,626.7031 L628.5,636.7031 L638.5,636.7031 L628.5,626.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="408.5" y="645.1982">Get new instance of the query builder</text><path d="M402.5,663.0547 L402.5,689.4063 A0,0 0 0 0 402.5,689.4063 L604.5,689.4063 A0,0 0 0 0 604.5,689.4063 L604.5,681.0547 L785,702.6328 L604.5,673.0547 L604.5,673.0547 L594.5,663.0547 L402.5,663.0547 A0,0 0 0 0 402.5,663.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M594.5,663.0547 L594.5,673.0547 L604.5,673.0547 L594.5,663.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="408.5" y="681.5498">Get entity by ID from repository</text><path d="M402.5,699.4063 L402.5,725.7578 A0,0 0 0 0 402.5,725.7578 L745.5,725.7578 A0,0 0 0 0 745.5,725.7578 L745.5,717.4063 L785,728.2422 L745.5,709.4063 L745.5,709.4063 L735.5,699.4063 L402.5,699.4063 A0,0 0 0 0 402.5,699.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M735.5,699.4063 L735.5,709.4063 L745.5,709.4063 L735.5,699.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="408.5" y="717.9014">Save the changes to the existing entity in the repository</text><path d="M402.5,735.7578 L402.5,762.1094 A0,0 0 0 0 402.5,762.1094 L580.5,762.1094 A0,0 0 0 0 580.5,762.1094 L580.5,753.7578 L785,753.8516 L580.5,745.7578 L580.5,745.7578 L570.5,735.7578 L402.5,735.7578 A0,0 0 0 0 402.5,735.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M570.5,735.7578 L570.5,745.7578 L580.5,745.7578 L570.5,735.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="408.5" y="754.2529">Add entity to the repository</text><path d="M402.5,772.1094 L402.5,798.4609 A0,0 0 0 0 402.5,798.4609 L604.5,798.4609 A0,0 0 0 0 604.5,798.4609 L604.5,790.1094 L785,779.4609 L604.5,782.1094 L604.5,782.1094 L594.5,772.1094 L402.5,772.1094 A0,0 0 0 0 402.5,772.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M594.5,772.1094 L594.5,782.1094 L604.5,782.1094 L594.5,772.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="408.5" y="790.6045">Delete entity from the database</text><path d="M402.5,808.4609 L402.5,834.8125 A0,0 0 0 0 402.5,834.8125 L631.5,834.8125 A0,0 0 0 0 631.5,834.8125 L631.5,826.4609 L785,805.0703 L631.5,818.4609 L631.5,818.4609 L621.5,808.4609 L402.5,808.4609 A0,0 0 0 0 402.5,808.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M621.5,808.4609 L621.5,818.4609 L631.5,818.4609 L621.5,808.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="408.5" y="826.9561">Closes current database connection</text><!--MD5=[be996cdb8e6bf2fc7cb89c555f2cd144]
class Entity--><g id="elem_Entity"><rect codeLine="6" fill="#F1F1F1" height="134.4375" id="Entity" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="173" y="236"/><ellipse cx="276.25" cy="252" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M279.0156,247.875 Q279.1719,247.6563 279.3594,247.5469 Q279.5469,247.4375 279.7656,247.4375 Q280.1406,247.4375 280.375,247.7031 Q280.6094,247.9531 280.6094,248.5625 L280.6094,250.0156 Q280.6094,250.625 280.375,250.8906 Q280.1406,251.1563 279.7656,251.1563 Q279.4219,251.1563 279.2188,250.9531 Q279.0156,250.7656 278.9063,250.25 Q278.8594,249.8906 278.6719,249.7031 Q278.3438,249.3281 277.7344,249.1094 Q277.125,248.8906 276.5,248.8906 Q275.7344,248.8906 275.0938,249.2188 Q274.4688,249.5469 273.9688,250.2969 Q273.4844,251.0469 273.4844,252.0781 L273.4844,253.1719 Q273.4844,254.4063 274.375,255.2344 Q275.2656,256.0469 276.8594,256.0469 Q277.7969,256.0469 278.4531,255.7969 Q278.8438,255.6406 279.2656,255.2031 Q279.5313,254.9375 279.6719,254.8594 Q279.8281,254.7813 280.0313,254.7813 Q280.3594,254.7813 280.6094,255.0469 Q280.875,255.2969 280.875,255.6406 Q280.875,255.9844 280.5313,256.3906 Q280.0313,256.9688 279.2344,257.2969 Q278.1563,257.75 276.8594,257.75 Q275.3438,257.75 274.1406,257.125 Q273.1563,256.625 272.4688,255.5625 Q271.7813,254.4844 271.7813,253.2031 L271.7813,252.0469 Q271.7813,250.7188 272.3906,249.5781 Q273.0156,248.4219 274.1094,247.8125 Q275.2031,247.1875 276.4375,247.1875 Q277.1719,247.1875 277.8125,247.3594 Q278.4688,247.5156 279.0156,247.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="296.75" y="257.7285">Entity</text><line style="stroke:#181818;stroke-width:0.5;" x1="174" x2="422" y1="268" y2="268"/><ellipse cx="184" cy="279" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="193" y="286.5332">ID uuid.UUID `gorm:"primarykey"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="293.6094" y2="293.6094"/><ellipse cx="184" cy="304.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="193" y="312.1426">CreatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="319.2188" y2="319.2188"/><ellipse cx="184" cy="330.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="193" y="337.752">UpdatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="344.8281" y2="344.8281"/><ellipse cx="184" cy="355.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="193" y="363.3613">DeletedAt time.Time `gorm:"index"`</text></g><!--MD5=[063d74e43144aaa0d0cf3aecd3794497]
class Log--><g id="elem_Log"><rect codeLine="5" fill="#F1F1F1" height="134.4375" id="Log" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237" x="182.5" y="42"/><ellipse cx="284.75" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M287.5156,53.875 Q287.6719,53.6563 287.8594,53.5469 Q288.0469,53.4375 288.2656,53.4375 Q288.6406,53.4375 288.875,53.7031 Q289.1094,53.9531 289.1094,54.5625 L289.1094,56.0156 Q289.1094,56.625 288.875,56.8906 Q288.6406,57.1563 288.2656,57.1563 Q287.9219,57.1563 287.7188,56.9531 Q287.5156,56.7656 287.4063,56.25 Q287.3594,55.8906 287.1719,55.7031 Q286.8438,55.3281 286.2344,55.1094 Q285.625,54.8906 285,54.8906 Q284.2344,54.8906 283.5938,55.2188 Q282.9688,55.5469 282.4688,56.2969 Q281.9844,57.0469 281.9844,58.0781 L281.9844,59.1719 Q281.9844,60.4063 282.875,61.2344 Q283.7656,62.0469 285.3594,62.0469 Q286.2969,62.0469 286.9531,61.7969 Q287.3438,61.6406 287.7656,61.2031 Q288.0313,60.9375 288.1719,60.8594 Q288.3281,60.7813 288.5313,60.7813 Q288.8594,60.7813 289.1094,61.0469 Q289.375,61.2969 289.375,61.6406 Q289.375,61.9844 289.0313,62.3906 Q288.5313,62.9688 287.7344,63.2969 Q286.6563,63.75 285.3594,63.75 Q283.8438,63.75 282.6406,63.125 Q281.6563,62.625 280.9688,61.5625 Q280.2813,60.4844 280.2813,59.2031 L280.2813,58.0469 Q280.2813,56.7188 280.8906,55.5781 Q281.5156,54.4219 282.6094,53.8125 Q283.7031,53.1875 284.9375,53.1875 Q285.6719,53.1875 286.3125,53.3594 Q286.9688,53.5156 287.5156,53.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="305.25" y="63.7285">Log</text><line style="stroke:#181818;stroke-width:0.5;" x1="183.5" x2="418.5" y1="74" y2="74"/><ellipse cx="193.5" cy="85" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="202.5" y="92.5332">ActionID uuid.UUID `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="183.5" x2="418.5" y1="99.6094" y2="99.6094"/><ellipse cx="193.5" cy="110.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="202.5" y="118.1426">Level string</text><line style="stroke:#181818;stroke-width:1.0;" x1="183.5" x2="418.5" y1="125.2188" y2="125.2188"/><ellipse cx="193.5" cy="136.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="202.5" y="143.752">Source string</text><line style="stroke:#181818;stroke-width:1.0;" x1="183.5" x2="418.5" y1="150.8281" y2="150.8281"/><ellipse cx="193.5" cy="161.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="202.5" y="169.3613">Message string</text></g><!--MD5=[27abfb56f32eefa7f07c83348fb1ee32]
class GormGenericRepository--><g id="elem_GormGenericRepository"><rect codeLine="5" fill="#F1F1F1" height="48" id="GormGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="798" y="430"/><ellipse cx="813" cy="446" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M815.7656,441.875 Q815.9219,441.6563 816.1094,441.5469 Q816.2969,441.4375 816.5156,441.4375 Q816.8906,441.4375 817.125,441.7031 Q817.3594,441.9531 817.3594,442.5625 L817.3594,444.0156 Q817.3594,444.625 817.125,444.8906 Q816.8906,445.1563 816.5156,445.1563 Q816.1719,445.1563 815.9688,444.9531 Q815.7656,444.7656 815.6563,444.25 Q815.6094,443.8906 815.4219,443.7031 Q815.0938,443.3281 814.4844,443.1094 Q813.875,442.8906 813.25,442.8906 Q812.4844,442.8906 811.8438,443.2188 Q811.2188,443.5469 810.7188,444.2969 Q810.2344,445.0469 810.2344,446.0781 L810.2344,447.1719 Q810.2344,448.4063 811.125,449.2344 Q812.0156,450.0469 813.6094,450.0469 Q814.5469,450.0469 815.2031,449.7969 Q815.5938,449.6406 816.0156,449.2031 Q816.2813,448.9375 816.4219,448.8594 Q816.5781,448.7813 816.7813,448.7813 Q817.1094,448.7813 817.3594,449.0469 Q817.625,449.2969 817.625,449.6406 Q817.625,449.9844 817.2813,450.3906 Q816.7813,450.9688 815.9844,451.2969 Q814.9063,451.75 813.6094,451.75 Q812.0938,451.75 810.8906,451.125 Q809.9063,450.625 809.2188,449.5625 Q808.5313,448.4844 808.5313,447.2031 L808.5313,446.0469 Q808.5313,444.7188 809.1406,443.5781 Q809.7656,442.4219 810.8594,441.8125 Q811.9531,441.1875 813.1875,441.1875 Q813.9219,441.1875 814.5625,441.3594 Q815.2188,441.5156 815.7656,441.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="827" y="451.7285">GormGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="988" y="427"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="989" y="440.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="799" x2="1043" y1="462" y2="462"/><line style="stroke:#181818;stroke-width:0.5;" x1="799" x2="1043" y1="470" y2="470"/></g><!--MD5=[8f4cc9c7b9b5dcc33f9071a0b0037015]
class LogRepository--><g id="elem_LogRepository"><rect codeLine="6" fill="#F1F1F1" height="48" id="LogRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="846" y="85"/><ellipse cx="861" cy="101" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M863.7656,96.875 Q863.9219,96.6563 864.1094,96.5469 Q864.2969,96.4375 864.5156,96.4375 Q864.8906,96.4375 865.125,96.7031 Q865.3594,96.9531 865.3594,97.5625 L865.3594,99.0156 Q865.3594,99.625 865.125,99.8906 Q864.8906,100.1563 864.5156,100.1563 Q864.1719,100.1563 863.9688,99.9531 Q863.7656,99.7656 863.6563,99.25 Q863.6094,98.8906 863.4219,98.7031 Q863.0938,98.3281 862.4844,98.1094 Q861.875,97.8906 861.25,97.8906 Q860.4844,97.8906 859.8438,98.2188 Q859.2188,98.5469 858.7188,99.2969 Q858.2344,100.0469 858.2344,101.0781 L858.2344,102.1719 Q858.2344,103.4063 859.125,104.2344 Q860.0156,105.0469 861.6094,105.0469 Q862.5469,105.0469 863.2031,104.7969 Q863.5938,104.6406 864.0156,104.2031 Q864.2813,103.9375 864.4219,103.8594 Q864.5781,103.7813 864.7813,103.7813 Q865.1094,103.7813 865.3594,104.0469 Q865.625,104.2969 865.625,104.6406 Q865.625,104.9844 865.2813,105.3906 Q864.7813,105.9688 863.9844,106.2969 Q862.9063,106.75 861.6094,106.75 Q860.0938,106.75 858.8906,106.125 Q857.9063,105.625 857.2188,104.5625 Q856.5313,103.4844 856.5313,102.2031 L856.5313,101.0469 Q856.5313,99.7188 857.1406,98.5781 Q857.7656,97.4219 858.8594,96.8125 Q859.9531,96.1875 861.1875,96.1875 Q861.9219,96.1875 862.5625,96.3594 Q863.2188,96.5156 863.7656,96.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="875" y="106.7285">LogRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="847" x2="969" y1="117" y2="117"/><line style="stroke:#181818;stroke-width:0.5;" x1="847" x2="969" y1="125" y2="125"/></g><g id="elem_LogTypeNote"><path d="M798,290 L798,316.3516 L920,316.3516 L920,300 L910,290 L798,290 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M910,290 L910,300 L920,300 L910,290 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="804" y="308.4951">EntityType is Log</text></g><!--MD5=[2557b70de049790e1c1a4cc262bbdad6]
link Entity to IEntityModelDeletedAt--><g id="link_Entity_IEntityModelDeletedAt"><path codeLine="15" d="M266.2,370.03 C228.54,448.22 166.63,576.77 132.5,647.64 " fill="none" id="Entity-to-IEntityModelDeletedAt" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="138.63,651.03,123.65,666.01,126.02,644.95,138.63,651.03" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a6c7a0eda5b041e127f539f1664bb96a]
link Entity to IEntityModel--><g id="link_Entity_IEntityModel"><path codeLine="16" d="M298,370.03 C298,447.56 298,574.57 298,645.81 " fill="none" id="Entity-to-IEntityModel" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="305,646.01,298,666.01,291,646.01,305,646.01" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9772157d24c033f2fd4659808d74f7d7]
link IEntityModelDeletedAt to IEntityModel--><!--MD5=[7ee9f8375b9805f735e207131896076f]
link Log to Entity--><g id="link_Log_Entity"><path codeLine="14" d="M299.97,176.08 C299.73,191.01 299.48,207.02 299.24,222.44 " fill="none" id="Log-to-Entity" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="299.03,235.8,303.1283,229.8667,299.2278,223.8016,295.1294,229.7349,299.03,235.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1b84833638557571905b03f54e842c8c]
link GormGenericRepository to IGenericRepository--><g id="link_GormGenericRepository_IGenericRepository"><path codeLine="7" d="M951.39,478.13 C979.79,499.73 1024.58,533.82 1070.54,568.79 " fill="none" id="GormGenericRepository-to-IGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1074.8,563.24,1086.48,580.92,1066.32,574.38,1074.8,563.24" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ed01c4b1a8d821a1dbde2673473bf9b3]
link LogRepository to GormGenericRepository--><g id="link_LogRepository_GormGenericRepository"><path codeLine="8" d="M915.31,133.39 C922.73,158.47 933.73,199.6 938,236 C946.19,305.74 947.82,324.47 938,394 C936.92,401.61 935.11,409.62 933.05,417.2 " fill="none" id="LogRepository-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="929.32,429.79,934.8579,425.1714,932.7246,418.2831,927.1866,422.9017,929.32,429.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2680ff3055d62c142b1e8960e0bcb605]
link LogRepository to LogTypeNote--><g id="link_LogRepository_LogTypeNote"><path codeLine="12" d="M902.09,133.16 C891.6,174.25 870.09,258.54 862.09,289.9 " fill="none" id="LogRepository-LogTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[266e0e8d93667542f4664d160686c449]
link LogTypeNote to GormGenericRepository--><g id="link_LogTypeNote_GormGenericRepository"><path codeLine="13" d="M864.07,316.19 C873.91,339.84 895.82,392.48 909.4,425.13 " fill="none" id="LogTypeNote-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="911.35,429.8,911.57,419.9536,909.4219,425.1867,904.1887,423.0386,911.35,429.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a521aad7a4a356c7d00008639251d028]
link Log to LogTypeNote--><g id="link_Log_LogTypeNote"><path codeLine="14" d="M419.68,150.84 C548,194.99 744.8,262.71 824.1,289.99 " fill="none" id="Log-LogTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[3eb35483384a6f13cfbcd4d9508a5138]
@startuml

!include ../entities/Log.puml
!include GormGenericRepository.puml

package infrastructure {
    class LogRepository

    LogRepository -down-* GormGenericRepository

    note "EntityType is Log" as LogTypeNote

    LogRepository .down. LogTypeNote
    GormGenericRepository <.up. LogTypeNote
    Log .. LogTypeNote
}
@enduml

@startuml




package app {
    interface IEntityModel {
        +GetID() uuid.UUID
    }
}


package app {
    interface IEntityModelDeletedAt {
        +SetDeleted()
    }
    note bottom of IEntityModelDeletedAt
        Set deletion time
        This method marks that the entity has been deleted
    end note
}


package domain {
    class Entity {
        +ID uuid.UUID `gorm:"primarykey"`
        - -
        +CreatedAt time.Time `gorm:"index"`
        - -
        +UpdatedAt time.Time `gorm:"index"`
        - -
        +DeletedAt time.Time `gorm:"index"`
    }
    Entity .down.|> IEntityModelDeletedAt
    Entity .down.|> IEntityModel

    IEntityModel .left[hidden]. IEntityModelDeletedAt
}


package domain {
    class Log {
        +ActionID uuid.UUID `gorm:"index"`
        - -
        +Level string
        - -
        +Source string
        - -
        +Message string
    }
    Log -down-* Entity
}



package app {
    interface IGenericRepository<EntityType> {
        +GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) (*[]EntityType, error)
        - -
        +Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)
        - -
        +NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder
        - -
        +GetById(ctx context.Context, id uuid.UUID) (*EntityType, error)
        - -
        +Update(ctx context.Context, entity *EntityType) error
        - -
        +Insert(ctx context.Context, entity EntityType) (uuid.UUID, error)
        - -
        +Delete(ctx context.Context, id uuid.UUID) error
        - -
        +CloseDb() error
    }
    note left of IGenericRepository::GetList
      Get list of elements with filtering and pagination
    end note

    note left of IGenericRepository::Count
      Get count of entities with filtering
    end note

    note left of IGenericRepository::NewQueryBuilder
      Get new instance of the query builder
    end note

    note left of IGenericRepository::GetById
      Get entity by ID from repository
    end note

    note left of IGenericRepository::Update
      Save the changes to the existing entity in the repository
    end note

    note left of IGenericRepository::Insert
      Add entity to the repository
    end note

    note left of IGenericRepository::Delete
      Delete entity from the database
    end note

    note left of IGenericRepository::CloseDb
      Closes current database connection
    end note
}


package infrastructure {
    class GormGenericRepository<EntityType>

    GormGenericRepository .down.|> IGenericRepository
}


package infrastructure {
    class LogRepository

    LogRepository -down-* GormGenericRepository

    note "EntityType is Log" as LogTypeNote

    LogRepository .down. LogTypeNote
    GormGenericRepository <.up. LogTypeNote
    Log .. LogTypeNote
}
@enduml

PlantUML version 1.2022.6(Tue Jun 21 20:34:49 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>