<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1023px" preserveAspectRatio="none" style="width:1724px;height:1023px;background:#FFFFFF;" version="1.1" viewBox="0 0 1724 1023" width="1724px" zoomAndPan="magnify"><defs/><g><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><g id="cluster_app"><path d="M8.5,570 L35.5,570 A3.75,3.75 0 0 1 38,572.5 L45,593.6094 L1714.5,593.6094 A2.5,2.5 0 0 1 1717,596.1094 L1717,1013.5 A2.5,2.5 0 0 1 1714.5,1016 L8.5,1016 A2.5,2.5 0 0 1 6,1013.5 L6,572.5 A2.5,2.5 0 0 1 8.5,570 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="6" x2="45" y1="593.6094" y2="593.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="10" y="586.5332">app</text></g><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><g id="cluster_domain"><path d="M116.5,6 L168.5,6 A3.75,3.75 0 0 1 171,8.5 L178,29.6094 L480.5,29.6094 A2.5,2.5 0 0 1 483,32.1094 L483,435.5 A2.5,2.5 0 0 1 480.5,438 L116.5,438 A2.5,2.5 0 0 1 114,435.5 L114,8.5 A2.5,2.5 0 0 1 116.5,6 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="114" x2="178" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="118" y="22.5332">domain</text></g><!--MD5=[77349be1bd27b81b697a0f9b3aded3c8]
cluster infrastructure--><g id="cluster_infrastructure"><path d="M785.5,75 L883.5,75 A3.75,3.75 0 0 1 886,77.5 L893,98.6094 L1058.5,98.6094 A2.5,2.5 0 0 1 1061,101.1094 L1061,543.5 A2.5,2.5 0 0 1 1058.5,546 L785.5,546 A2.5,2.5 0 0 1 783,543.5 L783,77.5 A2.5,2.5 0 0 1 785.5,75 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="783" x2="893" y1="98.6094" y2="98.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="787" y="91.5332">infrastructure</text></g><!--MD5=[2a39a5be1cc24ddddd6e6286e4ece992]
class IEntityModel--><g id="elem_IEntityModel"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="229" y="718.5"/><ellipse cx="256.6" cy="734.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M257.5531,731.1406 L257.5531,737.7969 L259.2719,737.7969 Q259.8813,737.7969 260.1469,738.0313 Q260.4125,738.2656 260.4125,738.6563 Q260.4125,739.0313 260.1469,739.2656 Q259.8813,739.5 259.2719,739.5 L254.1313,739.5 Q253.5219,739.5 253.2563,739.2656 Q252.9906,739.0313 252.9906,738.6406 Q252.9906,738.2656 253.2563,738.0313 Q253.5219,737.7969 254.1313,737.7969 L255.85,737.7969 L255.85,731.1406 L254.1313,731.1406 Q253.5219,731.1406 253.2563,730.9063 Q252.9906,730.6719 252.9906,730.2813 Q252.9906,729.9063 253.2563,729.6719 Q253.5219,729.4375 254.1313,729.4375 L259.2719,729.4375 Q259.8813,729.4375 260.1469,729.6719 Q260.4125,729.9063 260.4125,730.2813 Q260.4125,730.6719 260.1469,730.9063 Q259.8813,731.1406 259.2719,731.1406 L257.5531,731.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="273.4" y="740.2285">IEntityModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="230" x2="366" y1="750.5" y2="750.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="230" x2="366" y1="758.5" y2="758.5"/><ellipse cx="240" cy="769.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="249" y="777.0332">GetID() uuid.UUID</text></g><!--MD5=[01906ac0e62f22b4e38e996248db568e]
class IEntityModelDeletedAt--><g id="elem_IEntityModelDeletedAt"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModelDeletedAt" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="22" y="718.5"/><ellipse cx="37" cy="734.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M37.9531,731.1406 L37.9531,737.7969 L39.6719,737.7969 Q40.2813,737.7969 40.5469,738.0313 Q40.8125,738.2656 40.8125,738.6563 Q40.8125,739.0313 40.5469,739.2656 Q40.2813,739.5 39.6719,739.5 L34.5313,739.5 Q33.9219,739.5 33.6563,739.2656 Q33.3906,739.0313 33.3906,738.6406 Q33.3906,738.2656 33.6563,738.0313 Q33.9219,737.7969 34.5313,737.7969 L36.25,737.7969 L36.25,731.1406 L34.5313,731.1406 Q33.9219,731.1406 33.6563,730.9063 Q33.3906,730.6719 33.3906,730.2813 Q33.3906,729.9063 33.6563,729.6719 Q33.9219,729.4375 34.5313,729.4375 L39.6719,729.4375 Q40.2813,729.4375 40.5469,729.6719 Q40.8125,729.9063 40.8125,730.2813 Q40.8125,730.6719 40.5469,730.9063 Q40.2813,731.1406 39.6719,731.1406 L37.9531,731.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140" x="51" y="740.2285">IEntityModelDeletedAt</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="193" y1="750.5" y2="750.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="193" y1="758.5" y2="758.5"/><ellipse cx="33" cy="769.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="42" y="777.0332">SetDeleted()</text></g><g id="elem_GMN389"><path d="M22.5,957 L22.5,999.7031 A0,0 0 0 0 22.5,999.7031 L341.5,999.7031 A0,0 0 0 0 341.5,999.7031 L341.5,967 L331.5,957 L179.17,957 L118.6,784.74 L171.17,957 L22.5,957 A0,0 0 0 0 22.5,957 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M331.5,957 L331.5,967 L341.5,967 L331.5,957 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="28.5" y="975.4951">Set deletion time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="28.5" y="991.8467">This method marks that the entity has been deleted</text></g><!--MD5=[b3e0f8dcddb1b27f071a0303a68762bf]
class IGenericRepository--><g id="elem_IGenericRepository"><rect codeLine="3" fill="#F1F1F1" height="236.875" id="IGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="920" x="781" y="633"/><ellipse cx="1145.25" cy="649" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1146.2031,645.6406 L1146.2031,652.2969 L1147.9219,652.2969 Q1148.5313,652.2969 1148.7969,652.5313 Q1149.0625,652.7656 1149.0625,653.1563 Q1149.0625,653.5313 1148.7969,653.7656 Q1148.5313,654 1147.9219,654 L1142.7813,654 Q1142.1719,654 1141.9063,653.7656 Q1141.6406,653.5313 1141.6406,653.1406 Q1141.6406,652.7656 1141.9063,652.5313 Q1142.1719,652.2969 1142.7813,652.2969 L1144.5,652.2969 L1144.5,645.6406 L1142.7813,645.6406 Q1142.1719,645.6406 1141.9063,645.4063 Q1141.6406,645.1719 1141.6406,644.7813 Q1141.6406,644.4063 1141.9063,644.1719 Q1142.1719,643.9375 1142.7813,643.9375 L1147.9219,643.9375 Q1148.5313,643.9375 1148.7969,644.1719 Q1149.0625,644.4063 1149.0625,644.7813 Q1149.0625,645.1719 1148.7969,645.4063 Q1148.5313,645.6406 1147.9219,645.6406 L1146.2031,645.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="122" x="1165.75" y="654.7285">IGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="1645" y="630"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="1646" y="643.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="782" x2="1700" y1="665" y2="665"/><ellipse cx="792" cy="676" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="894" x="801" y="683.5332">GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) (*[]EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="690.6094" y2="690.6094"/><ellipse cx="792" cy="701.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="494" x="801" y="709.1426">Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="716.2188" y2="716.2188"/><ellipse cx="792" cy="727.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="393" x="801" y="734.752">NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="741.8281" y2="741.8281"/><ellipse cx="792" cy="752.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="388" x="801" y="760.3613">GetById(ctx context.Context, id uuid.UUID) (*EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="767.4375" y2="767.4375"/><ellipse cx="792" cy="778.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="801" y="785.9707">Update(ctx context.Context, entity *EntityType) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="793.0469" y2="793.0469"/><ellipse cx="792" cy="804.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="391" x="801" y="811.5801">Insert(ctx context.Context, entity EntityType) (uuid.UUID, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="818.6563" y2="818.6563"/><ellipse cx="792" cy="829.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="801" y="837.1895">Delete(ctx context.Context, id uuid.UUID) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="844.2656" y2="844.2656"/><ellipse cx="792" cy="855.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="801" y="862.7988">CloseDb() error</text></g><path d="M402.5,606 L402.5,632.3516 A0,0 0 0 0 402.5,632.3516 L696.5,632.3516 A0,0 0 0 0 696.5,632.3516 L696.5,624 L785,677.8047 L696.5,616 L696.5,616 L686.5,606 L402.5,606 A0,0 0 0 0 402.5,606 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M686.5,606 L686.5,616 L696.5,616 L686.5,606 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="408.5" y="624.4951">Get list of elements with filtering and pagination</text><path d="M402.5,642.3516 L402.5,668.7031 A0,0 0 0 0 402.5,668.7031 L612.5,668.7031 A0,0 0 0 0 612.5,668.7031 L612.5,660.3516 L785,703.4141 L612.5,652.3516 L612.5,652.3516 L602.5,642.3516 L402.5,642.3516 A0,0 0 0 0 402.5,642.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M602.5,642.3516 L602.5,652.3516 L612.5,652.3516 L602.5,642.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="408.5" y="660.8467">Get count of entities with filtering</text><path d="M402.5,678.7031 L402.5,705.0547 A0,0 0 0 0 402.5,705.0547 L638.5,705.0547 A0,0 0 0 0 638.5,705.0547 L638.5,696.7031 L785,729.0234 L638.5,688.7031 L638.5,688.7031 L628.5,678.7031 L402.5,678.7031 A0,0 0 0 0 402.5,678.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M628.5,678.7031 L628.5,688.7031 L638.5,688.7031 L628.5,678.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="408.5" y="697.1982">Get new instance of the query builder</text><path d="M402.5,715.0547 L402.5,741.4063 A0,0 0 0 0 402.5,741.4063 L604.5,741.4063 A0,0 0 0 0 604.5,741.4063 L604.5,733.0547 L785,754.6328 L604.5,725.0547 L604.5,725.0547 L594.5,715.0547 L402.5,715.0547 A0,0 0 0 0 402.5,715.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M594.5,715.0547 L594.5,725.0547 L604.5,725.0547 L594.5,715.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="408.5" y="733.5498">Get entity by ID from repository</text><path d="M402.5,751.4063 L402.5,777.7578 A0,0 0 0 0 402.5,777.7578 L745.5,777.7578 A0,0 0 0 0 745.5,777.7578 L745.5,769.4063 L785,780.2422 L745.5,761.4063 L745.5,761.4063 L735.5,751.4063 L402.5,751.4063 A0,0 0 0 0 402.5,751.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M735.5,751.4063 L735.5,761.4063 L745.5,761.4063 L735.5,751.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="408.5" y="769.9014">Save the changes to the existing entity in the repository</text><path d="M402.5,787.7578 L402.5,814.1094 A0,0 0 0 0 402.5,814.1094 L580.5,814.1094 A0,0 0 0 0 580.5,814.1094 L580.5,805.7578 L785,805.8516 L580.5,797.7578 L580.5,797.7578 L570.5,787.7578 L402.5,787.7578 A0,0 0 0 0 402.5,787.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M570.5,787.7578 L570.5,797.7578 L580.5,797.7578 L570.5,787.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="408.5" y="806.2529">Add entity to the repository</text><path d="M402.5,824.1094 L402.5,850.4609 A0,0 0 0 0 402.5,850.4609 L604.5,850.4609 A0,0 0 0 0 604.5,850.4609 L604.5,842.1094 L785,831.4609 L604.5,834.1094 L604.5,834.1094 L594.5,824.1094 L402.5,824.1094 A0,0 0 0 0 402.5,824.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M594.5,824.1094 L594.5,834.1094 L604.5,834.1094 L594.5,824.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="408.5" y="842.6045">Delete entity from the database</text><path d="M402.5,860.4609 L402.5,886.8125 A0,0 0 0 0 402.5,886.8125 L631.5,886.8125 A0,0 0 0 0 631.5,886.8125 L631.5,878.4609 L785,857.0703 L631.5,870.4609 L631.5,870.4609 L621.5,860.4609 L402.5,860.4609 A0,0 0 0 0 402.5,860.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M621.5,860.4609 L621.5,870.4609 L631.5,870.4609 L621.5,860.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="408.5" y="878.9561">Closes current database connection</text><!--MD5=[be996cdb8e6bf2fc7cb89c555f2cd144]
class Entity--><g id="elem_Entity"><rect codeLine="6" fill="#F1F1F1" height="134.4375" id="Entity" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="173" y="288"/><ellipse cx="276.25" cy="304" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M279.0156,299.875 Q279.1719,299.6563 279.3594,299.5469 Q279.5469,299.4375 279.7656,299.4375 Q280.1406,299.4375 280.375,299.7031 Q280.6094,299.9531 280.6094,300.5625 L280.6094,302.0156 Q280.6094,302.625 280.375,302.8906 Q280.1406,303.1563 279.7656,303.1563 Q279.4219,303.1563 279.2188,302.9531 Q279.0156,302.7656 278.9063,302.25 Q278.8594,301.8906 278.6719,301.7031 Q278.3438,301.3281 277.7344,301.1094 Q277.125,300.8906 276.5,300.8906 Q275.7344,300.8906 275.0938,301.2188 Q274.4688,301.5469 273.9688,302.2969 Q273.4844,303.0469 273.4844,304.0781 L273.4844,305.1719 Q273.4844,306.4063 274.375,307.2344 Q275.2656,308.0469 276.8594,308.0469 Q277.7969,308.0469 278.4531,307.7969 Q278.8438,307.6406 279.2656,307.2031 Q279.5313,306.9375 279.6719,306.8594 Q279.8281,306.7813 280.0313,306.7813 Q280.3594,306.7813 280.6094,307.0469 Q280.875,307.2969 280.875,307.6406 Q280.875,307.9844 280.5313,308.3906 Q280.0313,308.9688 279.2344,309.2969 Q278.1563,309.75 276.8594,309.75 Q275.3438,309.75 274.1406,309.125 Q273.1563,308.625 272.4688,307.5625 Q271.7813,306.4844 271.7813,305.2031 L271.7813,304.0469 Q271.7813,302.7188 272.3906,301.5781 Q273.0156,300.4219 274.1094,299.8125 Q275.2031,299.1875 276.4375,299.1875 Q277.1719,299.1875 277.8125,299.3594 Q278.4688,299.5156 279.0156,299.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="296.75" y="309.7285">Entity</text><line style="stroke:#181818;stroke-width:0.5;" x1="174" x2="422" y1="320" y2="320"/><ellipse cx="184" cy="331" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="193" y="338.5332">ID uuid.UUID `gorm:"primarykey"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="345.6094" y2="345.6094"/><ellipse cx="184" cy="356.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="193" y="364.1426">CreatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="371.2188" y2="371.2188"/><ellipse cx="184" cy="382.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="193" y="389.752">UpdatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="396.8281" y2="396.8281"/><ellipse cx="184" cy="407.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="193" y="415.3613">DeletedAt time.Time `gorm:"index"`</text></g><!--MD5=[0e6027363d26940633b9df7c844e683a]
class EthernetSwitch--><g id="elem_EthernetSwitch"><rect codeLine="5" fill="#F1F1F1" height="185.6563" id="EthernetSwitch" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="323.5" y="42"/><ellipse cx="346.15" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M348.9156,53.875 Q349.0719,53.6563 349.2594,53.5469 Q349.4469,53.4375 349.6656,53.4375 Q350.0406,53.4375 350.275,53.7031 Q350.5094,53.9531 350.5094,54.5625 L350.5094,56.0156 Q350.5094,56.625 350.275,56.8906 Q350.0406,57.1563 349.6656,57.1563 Q349.3219,57.1563 349.1188,56.9531 Q348.9156,56.7656 348.8063,56.25 Q348.7594,55.8906 348.5719,55.7031 Q348.2438,55.3281 347.6344,55.1094 Q347.025,54.8906 346.4,54.8906 Q345.6344,54.8906 344.9938,55.2188 Q344.3688,55.5469 343.8688,56.2969 Q343.3844,57.0469 343.3844,58.0781 L343.3844,59.1719 Q343.3844,60.4063 344.275,61.2344 Q345.1656,62.0469 346.7594,62.0469 Q347.6969,62.0469 348.3531,61.7969 Q348.7438,61.6406 349.1656,61.2031 Q349.4313,60.9375 349.5719,60.8594 Q349.7281,60.7813 349.9313,60.7813 Q350.2594,60.7813 350.5094,61.0469 Q350.775,61.2969 350.775,61.6406 Q350.775,61.9844 350.4313,62.3906 Q349.9313,62.9688 349.1344,63.2969 Q348.0563,63.75 346.7594,63.75 Q345.2438,63.75 344.0406,63.125 Q343.0563,62.625 342.3688,61.5625 Q341.6813,60.4844 341.6813,59.2031 L341.6813,58.0469 Q341.6813,56.7188 342.2906,55.5781 Q342.9156,54.4219 344.0094,53.8125 Q345.1031,53.1875 346.3375,53.1875 Q347.0719,53.1875 347.7125,53.3594 Q348.3688,53.5156 348.9156,53.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="361.85" y="63.7285">EthernetSwitch</text><line style="stroke:#181818;stroke-width:0.5;" x1="324.5" x2="465.5" y1="74" y2="74"/><ellipse cx="334.5" cy="85" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="343.5" y="92.5332">Name string</text><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="465.5" y1="99.6094" y2="99.6094"/><ellipse cx="334.5" cy="110.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="343.5" y="118.1426">Serial string</text><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="465.5" y1="125.2188" y2="125.2188"/><ellipse cx="334.5" cy="136.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="343.5" y="143.752">SwitchModel string</text><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="465.5" y1="150.8281" y2="150.8281"/><ellipse cx="334.5" cy="161.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="343.5" y="169.3613">Address string</text><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="465.5" y1="176.4375" y2="176.4375"/><ellipse cx="334.5" cy="187.4375" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="343.5" y="194.9707">Username string</text><line style="stroke:#181818;stroke-width:1.0;" x1="324.5" x2="465.5" y1="202.0469" y2="202.0469"/><ellipse cx="334.5" cy="213.0469" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="343.5" y="220.5801">Password string</text></g><path d="M130,90.5 L130,116.8516 A0,0 0 0 0 130,116.8516 L191,116.8516 A0,0 0 0 0 191,116.8516 L191,108.5 L327.5,112.4141 L191,100.5 L191,100.5 L181,90.5 L130,90.5 A0,0 0 0 0 130,90.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M181,90.5 L181,100.5 L191,100.5 L181,90.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="136" y="108.9951">Unique</text><path d="M130,126.8516 L130,169.5547 A0,0 0 0 0 130,169.5547 L288,169.5547 A0,0 0 0 0 288,169.5547 L288,152.2031 L327.5,163.6328 L288,144.2031 L288,136.8516 L278,126.8516 L130,126.8516 A0,0 0 0 0 130,126.8516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M278,126.8516 L278,136.8516 L288,136.8516 L278,126.8516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="136" y="145.3467">Unique</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="136" y="161.6982">Ip address of the switch</text><!--MD5=[27abfb56f32eefa7f07c83348fb1ee32]
class GormGenericRepository--><g id="elem_GormGenericRepository"><rect codeLine="5" fill="#F1F1F1" height="48" id="GormGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="799" y="482"/><ellipse cx="814" cy="498" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M816.7656,493.875 Q816.9219,493.6563 817.1094,493.5469 Q817.2969,493.4375 817.5156,493.4375 Q817.8906,493.4375 818.125,493.7031 Q818.3594,493.9531 818.3594,494.5625 L818.3594,496.0156 Q818.3594,496.625 818.125,496.8906 Q817.8906,497.1563 817.5156,497.1563 Q817.1719,497.1563 816.9688,496.9531 Q816.7656,496.7656 816.6563,496.25 Q816.6094,495.8906 816.4219,495.7031 Q816.0938,495.3281 815.4844,495.1094 Q814.875,494.8906 814.25,494.8906 Q813.4844,494.8906 812.8438,495.2188 Q812.2188,495.5469 811.7188,496.2969 Q811.2344,497.0469 811.2344,498.0781 L811.2344,499.1719 Q811.2344,500.4063 812.125,501.2344 Q813.0156,502.0469 814.6094,502.0469 Q815.5469,502.0469 816.2031,501.7969 Q816.5938,501.6406 817.0156,501.2031 Q817.2813,500.9375 817.4219,500.8594 Q817.5781,500.7813 817.7813,500.7813 Q818.1094,500.7813 818.3594,501.0469 Q818.625,501.2969 818.625,501.6406 Q818.625,501.9844 818.2813,502.3906 Q817.7813,502.9688 816.9844,503.2969 Q815.9063,503.75 814.6094,503.75 Q813.0938,503.75 811.8906,503.125 Q810.9063,502.625 810.2188,501.5625 Q809.5313,500.4844 809.5313,499.2031 L809.5313,498.0469 Q809.5313,496.7188 810.1406,495.5781 Q810.7656,494.4219 811.8594,493.8125 Q812.9531,493.1875 814.1875,493.1875 Q814.9219,493.1875 815.5625,493.3594 Q816.2188,493.5156 816.7656,493.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="828" y="503.7285">GormGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="989" y="479"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="990" y="492.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="800" x2="1044" y1="514" y2="514"/><line style="stroke:#181818;stroke-width:0.5;" x1="800" x2="1044" y1="522" y2="522"/></g><!--MD5=[44d95913ec2b3ba897526465ba0cec4b]
class EthernetSwitchRepository--><g id="elem_EthernetSwitchRepository"><rect codeLine="6" fill="#F1F1F1" height="48" id="EthernetSwitchRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="825" y="111"/><ellipse cx="840" cy="127" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M842.7656,122.875 Q842.9219,122.6563 843.1094,122.5469 Q843.2969,122.4375 843.5156,122.4375 Q843.8906,122.4375 844.125,122.7031 Q844.3594,122.9531 844.3594,123.5625 L844.3594,125.0156 Q844.3594,125.625 844.125,125.8906 Q843.8906,126.1563 843.5156,126.1563 Q843.1719,126.1563 842.9688,125.9531 Q842.7656,125.7656 842.6563,125.25 Q842.6094,124.8906 842.4219,124.7031 Q842.0938,124.3281 841.4844,124.1094 Q840.875,123.8906 840.25,123.8906 Q839.4844,123.8906 838.8438,124.2188 Q838.2188,124.5469 837.7188,125.2969 Q837.2344,126.0469 837.2344,127.0781 L837.2344,128.1719 Q837.2344,129.4063 838.125,130.2344 Q839.0156,131.0469 840.6094,131.0469 Q841.5469,131.0469 842.2031,130.7969 Q842.5938,130.6406 843.0156,130.2031 Q843.2813,129.9375 843.4219,129.8594 Q843.5781,129.7813 843.7813,129.7813 Q844.1094,129.7813 844.3594,130.0469 Q844.625,130.2969 844.625,130.6406 Q844.625,130.9844 844.2813,131.3906 Q843.7813,131.9688 842.9844,132.2969 Q841.9063,132.75 840.6094,132.75 Q839.0938,132.75 837.8906,132.125 Q836.9063,131.625 836.2188,130.5625 Q835.5313,129.4844 835.5313,128.2031 L835.5313,127.0469 Q835.5313,125.7188 836.1406,124.5781 Q836.7656,123.4219 837.8594,122.8125 Q838.9531,122.1875 840.1875,122.1875 Q840.9219,122.1875 841.5625,122.3594 Q842.2188,122.5156 842.7656,122.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="854" y="132.7285">EthernetSwitchRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="826" x2="1018" y1="143" y2="143"/><line style="stroke:#181818;stroke-width:0.5;" x1="826" x2="1018" y1="151" y2="151"/></g><g id="elem_EthernetSwitchTypeNote"><path d="M799.5,342 L799.5,368.3516 L988.5,368.3516 L988.5,352 L978.5,342 L799.5,342 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M978.5,342 L978.5,352 L988.5,352 L978.5,342 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="805.5" y="360.4951">EntityType is EthernetSwitch</text></g><!--MD5=[2557b70de049790e1c1a4cc262bbdad6]
link Entity to IEntityModelDeletedAt--><g id="link_Entity_IEntityModelDeletedAt"><path codeLine="15" d="M266.2,422.03 C228.54,500.22 166.63,628.77 132.5,699.64 " fill="none" id="Entity-to-IEntityModelDeletedAt" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="138.63,703.03,123.65,718.01,126.02,696.95,138.63,703.03" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a6c7a0eda5b041e127f539f1664bb96a]
link Entity to IEntityModel--><g id="link_Entity_IEntityModel"><path codeLine="16" d="M298,422.03 C298,499.56 298,626.57 298,697.81 " fill="none" id="Entity-to-IEntityModel" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="305,698.01,298,718.01,291,698.01,305,698.01" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9772157d24c033f2fd4659808d74f7d7]
link IEntityModelDeletedAt to IEntityModel--><!--MD5=[28ddc57433616ceaae86c7f76015305a]
link EthernetSwitch to Entity--><g id="link_EthernetSwitch_Entity"><path codeLine="27" d="M354,228.14 C346.95,244 339.67,260.35 332.79,275.8 " fill="none" id="EthernetSwitch-to-Entity" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="327.38,287.97,333.4747,284.1158,332.261,277.0075,326.1663,280.8618,327.38,287.97" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1b84833638557571905b03f54e842c8c]
link GormGenericRepository to IGenericRepository--><g id="link_GormGenericRepository_IGenericRepository"><path codeLine="7" d="M952.3,530.13 C980.54,551.68 1025.06,585.67 1070.77,620.56 " fill="none" id="GormGenericRepository-to-IGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1075.31,615.22,1086.96,632.92,1066.81,626.35,1075.31,615.22" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bbe412936ca4b95a00b9eb94a916dd4a]
link EthernetSwitchRepository to GormGenericRepository--><g id="link_EthernetSwitchRepository_GormGenericRepository"><path codeLine="8" d="M939.74,159.13 C960.36,187.63 993.2,238.37 1006,288 C1023.54,356 1038.38,383.69 1006,446 C1000.33,456.92 991.61,466.24 981.89,474.02 " fill="none" id="EthernetSwitchRepository-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="971.06,481.88,978.2654,481.5923,980.7711,474.8306,973.5657,475.1182,971.06,481.88" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[97e973a2e17e2fdf95a657100781ecd2]
link EthernetSwitchRepository to EthernetSwitchTypeNote--><g id="link_EthernetSwitchRepository_EthernetSwitchTypeNote"><path codeLine="13" d="M919,159.33 C913.08,205.46 900.05,306.9 895.56,341.87 " fill="none" id="EthernetSwitchRepository-EthernetSwitchTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[9f5125094d565c097065cae25f7e2c84]
link EthernetSwitchTypeNote to GormGenericRepository--><g id="link_EthernetSwitchTypeNote_GormGenericRepository"><path codeLine="14" d="M896.29,368.19 C900.72,391.75 910.55,444.05 916.69,476.73 " fill="none" id="EthernetSwitchTypeNote-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="917.64,481.8,919.8994,472.2138,916.7117,476.8869,912.0385,473.6992,917.64,481.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e4dc094716afb2924cadfdc3ab207821]
link EthernetSwitch to EthernetSwitchTypeNote--><g id="link_EthernetSwitch_EthernetSwitchTypeNote"><path codeLine="15" d="M466.76,167.35 C578.95,216.36 790.88,308.95 866.4,341.94 " fill="none" id="EthernetSwitch-EthernetSwitchTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[4ade5e5f89d7001876c462ac5cbb0748]
@startuml

!include ../entities/EthernetSwitch.puml
!include GormGenericRepository.puml

package infrastructure {
    class EthernetSwitchRepository

    EthernetSwitchRepository -down-* GormGenericRepository


    note "EntityType is EthernetSwitch" as EthernetSwitchTypeNote

    EthernetSwitchRepository .down. EthernetSwitchTypeNote
    GormGenericRepository <.up. EthernetSwitchTypeNote
    EthernetSwitch .. EthernetSwitchTypeNote
}

@enduml

@startuml




package app {
    interface IEntityModel {
        +GetID() uuid.UUID
    }
}


package app {
    interface IEntityModelDeletedAt {
        +SetDeleted()
    }
    note bottom of IEntityModelDeletedAt
        Set deletion time
        This method marks that the entity has been deleted
    end note
}


package domain {
    class Entity {
        +ID uuid.UUID `gorm:"primarykey"`
        - -
        +CreatedAt time.Time `gorm:"index"`
        - -
        +UpdatedAt time.Time `gorm:"index"`
        - -
        +DeletedAt time.Time `gorm:"index"`
    }
    Entity .down.|> IEntityModelDeletedAt
    Entity .down.|> IEntityModel

    IEntityModel .left[hidden]. IEntityModelDeletedAt
}


package domain {
    class EthernetSwitch {
        +Name string
        - -
        +Serial string
        - -
        +SwitchModel string
        - -
        +Address string
        - -
        +Username string
        - -
        +Password string
    }
    note left of EthernetSwitch::Serial
    Unique
    end note

    note left of EthernetSwitch::Address
    Unique
    Ip address of the switch
    end note

    EthernetSwitch -down-* Entity
}



package app {
    interface IGenericRepository<EntityType> {
        +GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) (*[]EntityType, error)
        - -
        +Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)
        - -
        +NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder
        - -
        +GetById(ctx context.Context, id uuid.UUID) (*EntityType, error)
        - -
        +Update(ctx context.Context, entity *EntityType) error
        - -
        +Insert(ctx context.Context, entity EntityType) (uuid.UUID, error)
        - -
        +Delete(ctx context.Context, id uuid.UUID) error
        - -
        +CloseDb() error
    }
    note left of IGenericRepository::GetList
      Get list of elements with filtering and pagination
    end note

    note left of IGenericRepository::Count
      Get count of entities with filtering
    end note

    note left of IGenericRepository::NewQueryBuilder
      Get new instance of the query builder
    end note

    note left of IGenericRepository::GetById
      Get entity by ID from repository
    end note

    note left of IGenericRepository::Update
      Save the changes to the existing entity in the repository
    end note

    note left of IGenericRepository::Insert
      Add entity to the repository
    end note

    note left of IGenericRepository::Delete
      Delete entity from the database
    end note

    note left of IGenericRepository::CloseDb
      Closes current database connection
    end note
}


package infrastructure {
    class GormGenericRepository<EntityType>

    GormGenericRepository .down.|> IGenericRepository
}


package infrastructure {
    class EthernetSwitchRepository

    EthernetSwitchRepository -down-* GormGenericRepository


    note "EntityType is EthernetSwitch" as EthernetSwitchTypeNote

    EthernetSwitchRepository .down. EthernetSwitchTypeNote
    GormGenericRepository <.up. EthernetSwitchTypeNote
    EthernetSwitch .. EthernetSwitchTypeNote
}

@enduml

PlantUML version 1.2022.6(Tue Jun 21 20:34:49 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>