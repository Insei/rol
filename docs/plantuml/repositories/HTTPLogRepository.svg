<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1202px" preserveAspectRatio="none" style="width:1724px;height:1202px;background:#FFFFFF;" version="1.1" viewBox="0 0 1724 1202" width="1724px" zoomAndPan="magnify"><defs/><g><!--MD5=[d5ac3844f66b12d9e08170e47495e096]
cluster app--><g id="cluster_app"><path d="M8.5,749 L35.5,749 A3.75,3.75 0 0 1 38,751.5 L45,772.6094 L1714.5,772.6094 A2.5,2.5 0 0 1 1717,775.1094 L1717,1192.5 A2.5,2.5 0 0 1 1714.5,1195 L8.5,1195 A2.5,2.5 0 0 1 6,1192.5 L6,751.5 A2.5,2.5 0 0 1 8.5,749 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="6" x2="45" y1="772.6094" y2="772.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="10" y="765.5332">app</text></g><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><g id="cluster_domain"><path d="M139.5,6 L191.5,6 A3.75,3.75 0 0 1 194,8.5 L201,29.6094 L498.5,29.6094 A2.5,2.5 0 0 1 501,32.1094 L501,614.5 A2.5,2.5 0 0 1 498.5,617 L139.5,617 A2.5,2.5 0 0 1 137,614.5 L137,8.5 A2.5,2.5 0 0 1 139.5,6 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="137" x2="201" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="141" y="22.5332">domain</text></g><!--MD5=[77349be1bd27b81b697a0f9b3aded3c8]
cluster infrastructure--><g id="cluster_infrastructure"><path d="M805.5,164.5 L903.5,164.5 A3.75,3.75 0 0 1 906,167 L913,188.1094 L1078.5,188.1094 A2.5,2.5 0 0 1 1081,190.6094 L1081,722.5 A2.5,2.5 0 0 1 1078.5,725 L805.5,725 A2.5,2.5 0 0 1 803,722.5 L803,167 A2.5,2.5 0 0 1 805.5,164.5 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="803" x2="913" y1="188.1094" y2="188.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="807" y="181.0332">infrastructure</text></g><!--MD5=[2a39a5be1cc24ddddd6e6286e4ece992]
class IEntityModel--><g id="elem_IEntityModel"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModel" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="229" y="897.5"/><ellipse cx="256.6" cy="913.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M257.5531,910.1406 L257.5531,916.7969 L259.2719,916.7969 Q259.8813,916.7969 260.1469,917.0313 Q260.4125,917.2656 260.4125,917.6563 Q260.4125,918.0313 260.1469,918.2656 Q259.8813,918.5 259.2719,918.5 L254.1313,918.5 Q253.5219,918.5 253.2563,918.2656 Q252.9906,918.0313 252.9906,917.6406 Q252.9906,917.2656 253.2563,917.0313 Q253.5219,916.7969 254.1313,916.7969 L255.85,916.7969 L255.85,910.1406 L254.1313,910.1406 Q253.5219,910.1406 253.2563,909.9063 Q252.9906,909.6719 252.9906,909.2813 Q252.9906,908.9063 253.2563,908.6719 Q253.5219,908.4375 254.1313,908.4375 L259.2719,908.4375 Q259.8813,908.4375 260.1469,908.6719 Q260.4125,908.9063 260.4125,909.2813 Q260.4125,909.6719 260.1469,909.9063 Q259.8813,910.1406 259.2719,910.1406 L257.5531,910.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78" x="273.4" y="919.2285">IEntityModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="230" x2="366" y1="929.5" y2="929.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="230" x2="366" y1="937.5" y2="937.5"/><ellipse cx="240" cy="948.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="249" y="956.0332">GetID() uuid.UUID</text></g><!--MD5=[01906ac0e62f22b4e38e996248db568e]
class IEntityModelDeletedAt--><g id="elem_IEntityModelDeletedAt"><rect codeLine="3" fill="#F1F1F1" height="65.6094" id="IEntityModelDeletedAt" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="22" y="897.5"/><ellipse cx="37" cy="913.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M37.9531,910.1406 L37.9531,916.7969 L39.6719,916.7969 Q40.2813,916.7969 40.5469,917.0313 Q40.8125,917.2656 40.8125,917.6563 Q40.8125,918.0313 40.5469,918.2656 Q40.2813,918.5 39.6719,918.5 L34.5313,918.5 Q33.9219,918.5 33.6563,918.2656 Q33.3906,918.0313 33.3906,917.6406 Q33.3906,917.2656 33.6563,917.0313 Q33.9219,916.7969 34.5313,916.7969 L36.25,916.7969 L36.25,910.1406 L34.5313,910.1406 Q33.9219,910.1406 33.6563,909.9063 Q33.3906,909.6719 33.3906,909.2813 Q33.3906,908.9063 33.6563,908.6719 Q33.9219,908.4375 34.5313,908.4375 L39.6719,908.4375 Q40.2813,908.4375 40.5469,908.6719 Q40.8125,908.9063 40.8125,909.2813 Q40.8125,909.6719 40.5469,909.9063 Q40.2813,910.1406 39.6719,910.1406 L37.9531,910.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140" x="51" y="919.2285">IEntityModelDeletedAt</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="193" y1="929.5" y2="929.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="193" y1="937.5" y2="937.5"/><ellipse cx="33" cy="948.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="42" y="956.0332">SetDeleted()</text></g><g id="elem_GMN425"><path d="M22.5,1136 L22.5,1178.7031 A0,0 0 0 0 22.5,1178.7031 L341.5,1178.7031 A0,0 0 0 0 341.5,1178.7031 L341.5,1146 L331.5,1136 L179.17,1136 L118.6,963.74 L171.17,1136 L22.5,1136 A0,0 0 0 0 22.5,1136 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M331.5,1136 L331.5,1146 L341.5,1146 L331.5,1136 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="28.5" y="1154.4951">Set deletion time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="28.5" y="1170.8467">This method marks that the entity has been deleted</text></g><!--MD5=[b3e0f8dcddb1b27f071a0303a68762bf]
class IGenericRepository--><g id="elem_IGenericRepository"><rect codeLine="3" fill="#F1F1F1" height="236.875" id="IGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="920" x="781" y="812"/><ellipse cx="1145.25" cy="828" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1146.2031,824.6406 L1146.2031,831.2969 L1147.9219,831.2969 Q1148.5313,831.2969 1148.7969,831.5313 Q1149.0625,831.7656 1149.0625,832.1563 Q1149.0625,832.5313 1148.7969,832.7656 Q1148.5313,833 1147.9219,833 L1142.7813,833 Q1142.1719,833 1141.9063,832.7656 Q1141.6406,832.5313 1141.6406,832.1406 Q1141.6406,831.7656 1141.9063,831.5313 Q1142.1719,831.2969 1142.7813,831.2969 L1144.5,831.2969 L1144.5,824.6406 L1142.7813,824.6406 Q1142.1719,824.6406 1141.9063,824.4063 Q1141.6406,824.1719 1141.6406,823.7813 Q1141.6406,823.4063 1141.9063,823.1719 Q1142.1719,822.9375 1142.7813,822.9375 L1147.9219,822.9375 Q1148.5313,822.9375 1148.7969,823.1719 Q1149.0625,823.4063 1149.0625,823.7813 Q1149.0625,824.1719 1148.7969,824.4063 Q1148.5313,824.6406 1147.9219,824.6406 L1146.2031,824.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="122" x="1165.75" y="833.7285">IGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="1645" y="809"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="1646" y="822.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="782" x2="1700" y1="844" y2="844"/><ellipse cx="792" cy="855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="894" x="801" y="862.5332">GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) (*[]EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="869.6094" y2="869.6094"/><ellipse cx="792" cy="880.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="494" x="801" y="888.1426">Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="895.2188" y2="895.2188"/><ellipse cx="792" cy="906.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="393" x="801" y="913.752">NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="920.8281" y2="920.8281"/><ellipse cx="792" cy="931.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="388" x="801" y="939.3613">GetById(ctx context.Context, id uuid.UUID) (*EntityType, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="946.4375" y2="946.4375"/><ellipse cx="792" cy="957.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="801" y="964.9707">Update(ctx context.Context, entity *EntityType) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="972.0469" y2="972.0469"/><ellipse cx="792" cy="983.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="391" x="801" y="990.5801">Insert(ctx context.Context, entity EntityType) (uuid.UUID, error)</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="997.6563" y2="997.6563"/><ellipse cx="792" cy="1008.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="801" y="1016.1895">Delete(ctx context.Context, id uuid.UUID) error</text><line style="stroke:#181818;stroke-width:1.0;" x1="782" x2="1700" y1="1023.2656" y2="1023.2656"/><ellipse cx="792" cy="1034.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="801" y="1041.7988">CloseDb() error</text></g><path d="M402.5,785 L402.5,811.3516 A0,0 0 0 0 402.5,811.3516 L696.5,811.3516 A0,0 0 0 0 696.5,811.3516 L696.5,803 L785,856.8047 L696.5,795 L696.5,795 L686.5,785 L402.5,785 A0,0 0 0 0 402.5,785 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M686.5,785 L686.5,795 L696.5,795 L686.5,785 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="408.5" y="803.4951">Get list of elements with filtering and pagination</text><path d="M402.5,821.3516 L402.5,847.7031 A0,0 0 0 0 402.5,847.7031 L612.5,847.7031 A0,0 0 0 0 612.5,847.7031 L612.5,839.3516 L785,882.4141 L612.5,831.3516 L612.5,831.3516 L602.5,821.3516 L402.5,821.3516 A0,0 0 0 0 402.5,821.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M602.5,821.3516 L602.5,831.3516 L612.5,831.3516 L602.5,821.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="408.5" y="839.8467">Get count of entities with filtering</text><path d="M402.5,857.7031 L402.5,884.0547 A0,0 0 0 0 402.5,884.0547 L638.5,884.0547 A0,0 0 0 0 638.5,884.0547 L638.5,875.7031 L785,908.0234 L638.5,867.7031 L638.5,867.7031 L628.5,857.7031 L402.5,857.7031 A0,0 0 0 0 402.5,857.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M628.5,857.7031 L628.5,867.7031 L638.5,867.7031 L628.5,857.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="408.5" y="876.1982">Get new instance of the query builder</text><path d="M402.5,894.0547 L402.5,920.4063 A0,0 0 0 0 402.5,920.4063 L604.5,920.4063 A0,0 0 0 0 604.5,920.4063 L604.5,912.0547 L785,933.6328 L604.5,904.0547 L604.5,904.0547 L594.5,894.0547 L402.5,894.0547 A0,0 0 0 0 402.5,894.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M594.5,894.0547 L594.5,904.0547 L604.5,904.0547 L594.5,894.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="408.5" y="912.5498">Get entity by ID from repository</text><path d="M402.5,930.4063 L402.5,956.7578 A0,0 0 0 0 402.5,956.7578 L745.5,956.7578 A0,0 0 0 0 745.5,956.7578 L745.5,948.4063 L785,959.2422 L745.5,940.4063 L745.5,940.4063 L735.5,930.4063 L402.5,930.4063 A0,0 0 0 0 402.5,930.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M735.5,930.4063 L735.5,940.4063 L745.5,940.4063 L735.5,930.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="408.5" y="948.9014">Save the changes to the existing entity in the repository</text><path d="M402.5,966.7578 L402.5,993.1094 A0,0 0 0 0 402.5,993.1094 L580.5,993.1094 A0,0 0 0 0 580.5,993.1094 L580.5,984.7578 L785,984.8516 L580.5,976.7578 L580.5,976.7578 L570.5,966.7578 L402.5,966.7578 A0,0 0 0 0 402.5,966.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M570.5,966.7578 L570.5,976.7578 L580.5,976.7578 L570.5,966.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="408.5" y="985.2529">Add entity to the repository</text><path d="M402.5,1003.1094 L402.5,1029.4609 A0,0 0 0 0 402.5,1029.4609 L604.5,1029.4609 A0,0 0 0 0 604.5,1029.4609 L604.5,1021.1094 L785,1010.4609 L604.5,1013.1094 L604.5,1013.1094 L594.5,1003.1094 L402.5,1003.1094 A0,0 0 0 0 402.5,1003.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M594.5,1003.1094 L594.5,1013.1094 L604.5,1013.1094 L594.5,1003.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="408.5" y="1021.6045">Delete entity from the database</text><path d="M402.5,1039.4609 L402.5,1065.8125 A0,0 0 0 0 402.5,1065.8125 L631.5,1065.8125 A0,0 0 0 0 631.5,1065.8125 L631.5,1057.4609 L785,1036.0703 L631.5,1049.4609 L631.5,1049.4609 L621.5,1039.4609 L402.5,1039.4609 A0,0 0 0 0 402.5,1039.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M621.5,1039.4609 L621.5,1049.4609 L631.5,1049.4609 L621.5,1039.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="408.5" y="1057.9561">Closes current database connection</text><!--MD5=[be996cdb8e6bf2fc7cb89c555f2cd144]
class Entity--><g id="elem_Entity"><rect codeLine="6" fill="#F1F1F1" height="134.4375" id="Entity" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="173" y="467"/><ellipse cx="276.25" cy="483" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M279.0156,478.875 Q279.1719,478.6563 279.3594,478.5469 Q279.5469,478.4375 279.7656,478.4375 Q280.1406,478.4375 280.375,478.7031 Q280.6094,478.9531 280.6094,479.5625 L280.6094,481.0156 Q280.6094,481.625 280.375,481.8906 Q280.1406,482.1563 279.7656,482.1563 Q279.4219,482.1563 279.2188,481.9531 Q279.0156,481.7656 278.9063,481.25 Q278.8594,480.8906 278.6719,480.7031 Q278.3438,480.3281 277.7344,480.1094 Q277.125,479.8906 276.5,479.8906 Q275.7344,479.8906 275.0938,480.2188 Q274.4688,480.5469 273.9688,481.2969 Q273.4844,482.0469 273.4844,483.0781 L273.4844,484.1719 Q273.4844,485.4063 274.375,486.2344 Q275.2656,487.0469 276.8594,487.0469 Q277.7969,487.0469 278.4531,486.7969 Q278.8438,486.6406 279.2656,486.2031 Q279.5313,485.9375 279.6719,485.8594 Q279.8281,485.7813 280.0313,485.7813 Q280.3594,485.7813 280.6094,486.0469 Q280.875,486.2969 280.875,486.6406 Q280.875,486.9844 280.5313,487.3906 Q280.0313,487.9688 279.2344,488.2969 Q278.1563,488.75 276.8594,488.75 Q275.3438,488.75 274.1406,488.125 Q273.1563,487.625 272.4688,486.5625 Q271.7813,485.4844 271.7813,484.2031 L271.7813,483.0469 Q271.7813,481.7188 272.3906,480.5781 Q273.0156,479.4219 274.1094,478.8125 Q275.2031,478.1875 276.4375,478.1875 Q277.1719,478.1875 277.8125,478.3594 Q278.4688,478.5156 279.0156,478.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="296.75" y="488.7285">Entity</text><line style="stroke:#181818;stroke-width:0.5;" x1="174" x2="422" y1="499" y2="499"/><ellipse cx="184" cy="510" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="193" y="517.5332">ID uuid.UUID `gorm:"primarykey"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="524.6094" y2="524.6094"/><ellipse cx="184" cy="535.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="193" y="543.1426">CreatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="550.2188" y2="550.2188"/><ellipse cx="184" cy="561.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="193" y="568.752">UpdatedAt time.Time `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="422" y1="575.8281" y2="575.8281"/><ellipse cx="184" cy="586.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="193" y="594.3613">DeletedAt time.Time `gorm:"index"`</text></g><!--MD5=[73025a93428e560011f09646c3da1997]
class HTTPLog--><g id="elem_HTTPLog"><rect codeLine="5" fill="#F1F1F1" height="364.9219" id="HTTPLog" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="331" x="153.5" y="42"/><ellipse cx="284.75" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M287.5156,53.875 Q287.6719,53.6563 287.8594,53.5469 Q288.0469,53.4375 288.2656,53.4375 Q288.6406,53.4375 288.875,53.7031 Q289.1094,53.9531 289.1094,54.5625 L289.1094,56.0156 Q289.1094,56.625 288.875,56.8906 Q288.6406,57.1563 288.2656,57.1563 Q287.9219,57.1563 287.7188,56.9531 Q287.5156,56.7656 287.4063,56.25 Q287.3594,55.8906 287.1719,55.7031 Q286.8438,55.3281 286.2344,55.1094 Q285.625,54.8906 285,54.8906 Q284.2344,54.8906 283.5938,55.2188 Q282.9688,55.5469 282.4688,56.2969 Q281.9844,57.0469 281.9844,58.0781 L281.9844,59.1719 Q281.9844,60.4063 282.875,61.2344 Q283.7656,62.0469 285.3594,62.0469 Q286.2969,62.0469 286.9531,61.7969 Q287.3438,61.6406 287.7656,61.2031 Q288.0313,60.9375 288.1719,60.8594 Q288.3281,60.7813 288.5313,60.7813 Q288.8594,60.7813 289.1094,61.0469 Q289.375,61.2969 289.375,61.6406 Q289.375,61.9844 289.0313,62.3906 Q288.5313,62.9688 287.7344,63.2969 Q286.6563,63.75 285.3594,63.75 Q283.8438,63.75 282.6406,63.125 Q281.6563,62.625 280.9688,61.5625 Q280.2813,60.4844 280.2813,59.2031 L280.2813,58.0469 Q280.2813,56.7188 280.8906,55.5781 Q281.5156,54.4219 282.6094,53.8125 Q283.7031,53.1875 284.9375,53.1875 Q285.6719,53.1875 286.3125,53.3594 Q286.9688,53.5156 287.5156,53.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="305.25" y="63.7285">HTTPLog</text><line style="stroke:#181818;stroke-width:0.5;" x1="154.5" x2="483.5" y1="74" y2="74"/><ellipse cx="164.5" cy="85" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="173.5" y="92.5332">HTTPMethod string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="99.6094" y2="99.6094"/><ellipse cx="164.5" cy="110.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="173.5" y="118.1426">Domain string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="125.2188" y2="125.2188"/><ellipse cx="164.5" cy="136.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="173.5" y="143.752">RelativePath string `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="150.8281" y2="150.8281"/><ellipse cx="164.5" cy="161.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="173.5" y="169.3613">QueryParams string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="176.4375" y2="176.4375"/><ellipse cx="164.5" cy="187.4375" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="173.5" y="194.9707">QueryParamsInd string `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="202.0469" y2="202.0469"/><ellipse cx="164.5" cy="213.0469" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="173.5" y="220.5801">ClientIP string `gorm:"index"`</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="227.6563" y2="227.6563"/><ellipse cx="164.5" cy="238.6563" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="173.5" y="246.1895">Latency int</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="253.2656" y2="253.2656"/><ellipse cx="164.5" cy="264.2656" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="173.5" y="271.7988">RequestBody string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="278.875" y2="278.875"/><ellipse cx="164.5" cy="289.875" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="173.5" y="297.4082">ResponseBody string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="304.4844" y2="304.4844"/><ellipse cx="164.5" cy="315.4844" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="173.5" y="323.0176">RequestHeaders string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="330.0938" y2="330.0938"/><ellipse cx="164.5" cy="341.0938" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="173.5" y="348.627">ResponseHeaders string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="355.7031" y2="355.7031"/><ellipse cx="164.5" cy="366.7031" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="173.5" y="374.2363">CustomRequestHeaders string</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="483.5" y1="381.3125" y2="381.3125"/><ellipse cx="164.5" cy="392.3125" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="173.5" y="399.8457">CustomRequestHeadersInd string `gorm:"index"`</text></g><!--MD5=[27abfb56f32eefa7f07c83348fb1ee32]
class GormGenericRepository--><g id="elem_GormGenericRepository"><rect codeLine="5" fill="#F1F1F1" height="48" id="GormGenericRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="819" y="661"/><ellipse cx="834" cy="677" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M836.7656,672.875 Q836.9219,672.6563 837.1094,672.5469 Q837.2969,672.4375 837.5156,672.4375 Q837.8906,672.4375 838.125,672.7031 Q838.3594,672.9531 838.3594,673.5625 L838.3594,675.0156 Q838.3594,675.625 838.125,675.8906 Q837.8906,676.1563 837.5156,676.1563 Q837.1719,676.1563 836.9688,675.9531 Q836.7656,675.7656 836.6563,675.25 Q836.6094,674.8906 836.4219,674.7031 Q836.0938,674.3281 835.4844,674.1094 Q834.875,673.8906 834.25,673.8906 Q833.4844,673.8906 832.8438,674.2188 Q832.2188,674.5469 831.7188,675.2969 Q831.2344,676.0469 831.2344,677.0781 L831.2344,678.1719 Q831.2344,679.4063 832.125,680.2344 Q833.0156,681.0469 834.6094,681.0469 Q835.5469,681.0469 836.2031,680.7969 Q836.5938,680.6406 837.0156,680.2031 Q837.2813,679.9375 837.4219,679.8594 Q837.5781,679.7813 837.7813,679.7813 Q838.1094,679.7813 838.3594,680.0469 Q838.625,680.2969 838.625,680.6406 Q838.625,680.9844 838.2813,681.3906 Q837.7813,681.9688 836.9844,682.2969 Q835.9063,682.75 834.6094,682.75 Q833.0938,682.75 831.8906,682.125 Q830.9063,681.625 830.2188,680.5625 Q829.5313,679.4844 829.5313,678.2031 L829.5313,677.0469 Q829.5313,675.7188 830.1406,674.5781 Q830.7656,673.4219 831.8594,672.8125 Q832.9531,672.1875 834.1875,672.1875 Q834.9219,672.1875 835.5625,672.3594 Q836.2188,672.5156 836.7656,672.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="848" y="682.7285">GormGenericRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="59" x="1009" y="658"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="1010" y="671.457">EntityType</text><line style="stroke:#181818;stroke-width:0.5;" x1="820" x2="1064" y1="693" y2="693"/><line style="stroke:#181818;stroke-width:0.5;" x1="820" x2="1064" y1="701" y2="701"/></g><!--MD5=[075431472312d0ff3c0c5cf5e989051c]
class HTTPLogRepository--><g id="elem_HTTPLogRepository"><rect codeLine="6" fill="#F1F1F1" height="48" id="HTTPLogRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="862" y="200.5"/><ellipse cx="877" cy="216.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M879.7656,212.375 Q879.9219,212.1563 880.1094,212.0469 Q880.2969,211.9375 880.5156,211.9375 Q880.8906,211.9375 881.125,212.2031 Q881.3594,212.4531 881.3594,213.0625 L881.3594,214.5156 Q881.3594,215.125 881.125,215.3906 Q880.8906,215.6563 880.5156,215.6563 Q880.1719,215.6563 879.9688,215.4531 Q879.7656,215.2656 879.6563,214.75 Q879.6094,214.3906 879.4219,214.2031 Q879.0938,213.8281 878.4844,213.6094 Q877.875,213.3906 877.25,213.3906 Q876.4844,213.3906 875.8438,213.7188 Q875.2188,214.0469 874.7188,214.7969 Q874.2344,215.5469 874.2344,216.5781 L874.2344,217.6719 Q874.2344,218.9063 875.125,219.7344 Q876.0156,220.5469 877.6094,220.5469 Q878.5469,220.5469 879.2031,220.2969 Q879.5938,220.1406 880.0156,219.7031 Q880.2813,219.4375 880.4219,219.3594 Q880.5781,219.2813 880.7813,219.2813 Q881.1094,219.2813 881.3594,219.5469 Q881.625,219.7969 881.625,220.1406 Q881.625,220.4844 881.2813,220.8906 Q880.7813,221.4688 879.9844,221.7969 Q878.9063,222.25 877.6094,222.25 Q876.0938,222.25 874.8906,221.625 Q873.9063,221.125 873.2188,220.0625 Q872.5313,218.9844 872.5313,217.7031 L872.5313,216.5469 Q872.5313,215.2188 873.1406,214.0781 Q873.7656,212.9219 874.8594,212.3125 Q875.9531,211.6875 877.1875,211.6875 Q877.9219,211.6875 878.5625,211.8594 Q879.2188,212.0156 879.7656,212.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="891" y="222.2285">HTTPLogRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="863" x2="1021" y1="232.5" y2="232.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="863" x2="1021" y1="240.5" y2="240.5"/></g><g id="elem_HTTPLogTypeNote"><path d="M819,521 L819,547.3516 L973,547.3516 L973,531 L963,521 L819,521 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M963,521 L963,531 L973,531 L963,521 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="825" y="539.4951">EntityType is HTTPLog</text></g><!--MD5=[2557b70de049790e1c1a4cc262bbdad6]
link Entity to IEntityModelDeletedAt--><g id="link_Entity_IEntityModelDeletedAt"><path codeLine="15" d="M266.2,601.03 C228.54,679.22 166.63,807.77 132.5,878.64 " fill="none" id="Entity-to-IEntityModelDeletedAt" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="138.63,882.03,123.65,897.01,126.02,875.95,138.63,882.03" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a6c7a0eda5b041e127f539f1664bb96a]
link Entity to IEntityModel--><g id="link_Entity_IEntityModel"><path codeLine="16" d="M298,601.03 C298,678.56 298,805.57 298,876.81 " fill="none" id="Entity-to-IEntityModel" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="305,877.01,298,897.01,291,877.01,305,877.01" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9772157d24c033f2fd4659808d74f7d7]
link IEntityModelDeletedAt to IEntityModel--><!--MD5=[d210a1a4967c1bd5004fbe3d33929ee5]
link HTTPLog to Entity--><g id="link_HTTPLog_Entity"><path codeLine="32" d="M306.6,407.04 C305.49,423.27 304.41,439.07 303.42,453.69 " fill="none" id="HTTPLog-to-Entity" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="302.52,466.75,306.9194,461.0364,303.3375,454.7779,298.938,460.4914,302.52,466.75" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1b84833638557571905b03f54e842c8c]
link GormGenericRepository to IGenericRepository--><g id="link_GormGenericRepository_IGenericRepository"><path codeLine="7" d="M970.4,709.13 C996.75,730.59 1038.24,764.37 1080.88,799.1 " fill="none" id="GormGenericRepository-to-IGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1085.53,793.86,1096.62,811.92,1076.69,804.72,1085.53,793.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c7defa9f59dd572153d36ee6790cced2]
link HTTPLogRepository to GormGenericRepository--><g id="link_HTTPLogRepository_GormGenericRepository"><path codeLine="8" d="M952.1,248.85 C977.77,311.72 1040.13,488.95 991,625 C987.67,634.21 982.21,643 976.12,650.85 " fill="none" id="HTTPLogRepository-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="967.56,660.92,974.4952,658.9445,975.3391,651.7829,968.4038,653.7584,967.56,660.92" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5dd39dda8c6b27ed858d720353fb65ff]
link HTTPLogRepository to HTTPLogTypeNote--><g id="link_HTTPLogRepository_HTTPLogTypeNote"><path codeLine="12" d="M938.54,248.61 C929.39,309.79 904.76,474.42 897.84,520.73 " fill="none" id="HTTPLogRepository-HTTPLogTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[cbac7c1086cbe92d9c74639284353031]
link HTTPLogTypeNote to GormGenericRepository--><g id="link_HTTPLogTypeNote_GormGenericRepository"><path codeLine="13" d="M899.76,547.19 C907.04,570.75 923.18,623.05 933.27,655.73 " fill="none" id="HTTPLogTypeNote-to-GormGenericRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="934.84,660.8,936.0102,651.0209,933.3666,656.022,928.3654,653.3784,934.84,660.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f952aa9c5e7807a35bc66caa1c801143]
link HTTPLog to HTTPLogTypeNote--><g id="link_HTTPLog_HTTPLogTypeNote"><path codeLine="14" d="M484.73,313.82 C623.58,387.82 809.07,486.67 873.12,520.81 " fill="none" id="HTTPLog-HTTPLogTypeNote" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[6911fe7350f78fe7c3866f6337035b0f]
@startuml

!include ../entities/HTTPLog.puml
!include GormGenericRepository.puml

package infrastructure {
    class HTTPLogRepository

    HTTPLogRepository -down-* GormGenericRepository

    note "EntityType is HTTPLog" as HTTPLogTypeNote

    HTTPLogRepository .down. HTTPLogTypeNote
    GormGenericRepository <.up. HTTPLogTypeNote
    HTTPLog .. HTTPLogTypeNote
}

@enduml

@startuml




package app {
    interface IEntityModel {
        +GetID() uuid.UUID
    }
}


package app {
    interface IEntityModelDeletedAt {
        +SetDeleted()
    }
    note bottom of IEntityModelDeletedAt
        Set deletion time
        This method marks that the entity has been deleted
    end note
}


package domain {
    class Entity {
        +ID uuid.UUID `gorm:"primarykey"`
        - -
        +CreatedAt time.Time `gorm:"index"`
        - -
        +UpdatedAt time.Time `gorm:"index"`
        - -
        +DeletedAt time.Time `gorm:"index"`
    }
    Entity .down.|> IEntityModelDeletedAt
    Entity .down.|> IEntityModel

    IEntityModel .left[hidden]. IEntityModelDeletedAt
}


package domain {
    class HTTPLog {
        +HTTPMethod string
        - -
        +Domain string
        - -
        +RelativePath string `gorm:"index"`
        - -
        +QueryParams string
        - -
        +QueryParamsInd string `gorm:"index"`
        - -
        +ClientIP string `gorm:"index"`
        - -
        +Latency int
        - -
        +RequestBody string
        - -
        +ResponseBody string
        - -
        +RequestHeaders string
        - -
        +ResponseHeaders string
        - -
        +CustomRequestHeaders string
        - -
        +CustomRequestHeadersInd string `gorm:"index"`
    }
    HTTPLog -down-* Entity
}



package app {
    interface IGenericRepository<EntityType> {
        +GetList(ctx context.Context, orderBy string, orderDirection string, page int, size int, queryBuilder interfaces.IQueryBuilder) (*[]EntityType, error)
        - -
        +Count(ctx context.Context, queryBuilder interfaces.IQueryBuilder) (int64, error)
        - -
        +NewQueryBuilder(ctx context.Context) interfaces.IQueryBuilder
        - -
        +GetById(ctx context.Context, id uuid.UUID) (*EntityType, error)
        - -
        +Update(ctx context.Context, entity *EntityType) error
        - -
        +Insert(ctx context.Context, entity EntityType) (uuid.UUID, error)
        - -
        +Delete(ctx context.Context, id uuid.UUID) error
        - -
        +CloseDb() error
    }
    note left of IGenericRepository::GetList
      Get list of elements with filtering and pagination
    end note

    note left of IGenericRepository::Count
      Get count of entities with filtering
    end note

    note left of IGenericRepository::NewQueryBuilder
      Get new instance of the query builder
    end note

    note left of IGenericRepository::GetById
      Get entity by ID from repository
    end note

    note left of IGenericRepository::Update
      Save the changes to the existing entity in the repository
    end note

    note left of IGenericRepository::Insert
      Add entity to the repository
    end note

    note left of IGenericRepository::Delete
      Delete entity from the database
    end note

    note left of IGenericRepository::CloseDb
      Closes current database connection
    end note
}


package infrastructure {
    class GormGenericRepository<EntityType>

    GormGenericRepository .down.|> IGenericRepository
}


package infrastructure {
    class HTTPLogRepository

    HTTPLogRepository -down-* GormGenericRepository

    note "EntityType is HTTPLog" as HTTPLogTypeNote

    HTTPLogRepository .down. HTTPLogTypeNote
    GormGenericRepository <.up. HTTPLogTypeNote
    HTTPLog .. HTTPLogTypeNote
}

@enduml

PlantUML version 1.2022.6(Tue Jun 21 20:34:49 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>